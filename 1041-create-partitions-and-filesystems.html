<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link rel="stylesheet" type="text/css" href="./theme/css/elegant.prod.9e9d5ce754.css" media="screen">
        <link rel="stylesheet" type="text/css" href="./theme/css/custom.css" media="screen">

        <link rel="dns-prefetch" href="//fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com/" crossorigin>

        <meta name="author" content="Jadi" />

        <meta property="og:type" content="article" />
        <meta name="twitter:card" content="summary">

<meta name="keywords" content="LPIC1, 101, LPIC1-101-500, LPIC1, " />

<meta property="og:title" content="104.1 Create partitions and filesystems "/>
<meta property="og:url" content="./1041-create-partitions-and-filesystems.html" />
<meta property="og:description" content="" />
<meta property="og:site_name" content="lpic1book" />
<meta property="og:article:author" content="Jadi" />
<meta property="og:article:published_time" content="2010-12-03T10:20:00+01:00" />
<meta name="twitter:title" content="104.1 Create partitions and filesystems ">
<meta name="twitter:description" content="">

        <title>104.1 Create partitions and filesystems  Â· lpic1book
</title>



        
        <!-- Global site tag (gtag.js) - Google Analytics -->
        <script async src="https://www.googletagmanager.com/gtag/js?id=G-4CZV14VZXW"></script>
        <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'G-4CZV14VZXW');
        </script>
        
    </head>
    <body>
        <div id="content">
            <div class="navbar navbar-static-top">
                <div class="navbar-inner">
                    <div class="container-fluid">
                        <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                            <span class="icon-bar"></span>
                            <span class="icon-bar"></span>
                            <span class="icon-bar"></span>
                        </a>
                        <a class="brand" href="./"><span class=site-name>lpic1book</span></a>
                        <div class="nav-collapse collapse">
                            <ul class="nav pull-right top-menu">
                                <li >
                                </li>
                                <li ><a href="./">LPIC1 Book</a></li>
                                <li ><a href="./">Home</a></li>
                                <li ><a href="./support">Support/Donate</a></li>
                                <li ><a href="./archives.html">Chapters</a></li>
                                <li ><a href="./tags.html">Tags</a></li>
                                <li><form action="https://www.google.com/search" method="get" target="_blank" class="navbar-search"> <input type="hidden" name="sitesearch" value="https://linux1st.com/"/><input type="text" class="search-query" placeholder="Search" name="q" id="tipue_search_input"></form></li>

                            </ul>
                        </div>
                    </div>
                </div>
            </div>
            <div class="container-fluid">
                <div class="row-fluid">
                    <div class="span1"></div>
                    <div class="span10">
<article itemscope>
<div class="row-fluid">
    <header class="page-header span10 offset2">
        <h1>
            <a href="./1041-create-partitions-and-filesystems.html">
                104.1 Create partitions and filesystems
            </a>
        </h1>
    </header>
</div>

<div class="row-fluid">
        <div class="span8 offset2 article-content">
            
            <p><em>Weight: 2</em></p>
<p>Description: Candidates should be able to configure disk partitions and then create filesystems on media such as hard disks. This includes the handling of swap partitions.</p>
<h3>Objective</h3>
<ul>
<li>Manage MBR and GPT partition tables</li>
<li>Use various mkfs commands to create various filesystems such as:<ul>
<li>ext2/ext3/ext4</li>
<li>XFS</li>
<li>VFAT</li>
<li>exFAT</li>
</ul>
</li>
<li>
<p>Basic feature knowledge of Btrfs, including multi-device filesystems, compression and subvolumes.</p>
</li>
<li>
<p>fdisk</p>
</li>
<li>gdisk</li>
<li>parted</li>
<li>mkfs</li>
<li>mkswap</li>
</ul>
<iframe width="560" height="315" src="https://www.youtube.com/embed/xSQdIIMGG2g" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe>

<h3>Block devices</h3>
<p>A block device is a nonvolatile mass storage device whose information can be accessed in any order; like hard disks, USB memories, floppy disks, and CD-ROMs. We <em>format</em> these devices to fixed sized blocks.</p>
<p>We can check all block devices using <code>lsblk</code> command. In addition on a long ls format (<code>-l</code>), block devices are shown with a <code>b</code> at the first column:</p>
<div class="highlight"><pre><span></span><code><span class="n">jadi</span><span class="nv">@debianamd</span><span class="err">:</span><span class="o">~</span><span class="err">$</span><span class="w"> </span><span class="n">ls</span><span class="w"> </span><span class="o">/</span><span class="n">dev</span><span class="o">/</span><span class="w"> </span><span class="o">-</span><span class="n">l</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">grep</span><span class="w"> </span><span class="ss">&quot;^b&quot;</span>
<span class="n">brw</span><span class="o">-</span><span class="n">rw</span><span class="o">----</span><span class="w">  </span><span class="mi">1</span><span class="w"> </span><span class="n">root</span><span class="w"> </span><span class="k">disk</span><span class="w">      </span><span class="mi">8</span><span class="p">,</span><span class="w">   </span><span class="mi">0</span><span class="w"> </span><span class="n">Feb</span><span class="w">  </span><span class="mi">3</span><span class="w">  </span><span class="mi">2023</span><span class="w"> </span><span class="n">sda</span>
<span class="n">brw</span><span class="o">-</span><span class="n">rw</span><span class="o">----</span><span class="w">  </span><span class="mi">1</span><span class="w"> </span><span class="n">root</span><span class="w"> </span><span class="k">disk</span><span class="w">      </span><span class="mi">8</span><span class="p">,</span><span class="w">  </span><span class="mi">16</span><span class="w"> </span><span class="n">Feb</span><span class="w">  </span><span class="mi">3</span><span class="w">  </span><span class="mi">2023</span><span class="w"> </span><span class="n">sdb</span>
<span class="n">brw</span><span class="o">-</span><span class="n">rw</span><span class="o">----</span><span class="w">  </span><span class="mi">1</span><span class="w"> </span><span class="n">root</span><span class="w"> </span><span class="k">disk</span><span class="w">      </span><span class="mi">8</span><span class="p">,</span><span class="w">  </span><span class="mi">17</span><span class="w"> </span><span class="n">Feb</span><span class="w">  </span><span class="mi">3</span><span class="w">  </span><span class="mi">2023</span><span class="w"> </span><span class="n">sdb1</span>
<span class="n">brw</span><span class="o">-</span><span class="n">rw</span><span class="o">----</span><span class="w">  </span><span class="mi">1</span><span class="w"> </span><span class="n">root</span><span class="w"> </span><span class="k">disk</span><span class="w">      </span><span class="mi">8</span><span class="p">,</span><span class="w">  </span><span class="mi">18</span><span class="w"> </span><span class="n">Feb</span><span class="w">  </span><span class="mi">3</span><span class="w">  </span><span class="mi">2023</span><span class="w"> </span><span class="n">sdb2</span>
<span class="n">brw</span><span class="o">-</span><span class="n">rw</span><span class="o">----</span><span class="w">  </span><span class="mi">1</span><span class="w"> </span><span class="n">root</span><span class="w"> </span><span class="k">disk</span><span class="w">      </span><span class="mi">8</span><span class="p">,</span><span class="w">  </span><span class="mi">19</span><span class="w"> </span><span class="n">Feb</span><span class="w">  </span><span class="mi">3</span><span class="w">  </span><span class="mi">2023</span><span class="w"> </span><span class="n">sdb3</span>
<span class="n">brw</span><span class="o">-</span><span class="n">rw</span><span class="c1">----+ 1 root cdrom    11,   0 Feb  3  2023 sr0</span>
</code></pre></div>

<p>It is possible to create <strong>partitions</strong> on a block device and even split it and use it as multiple disks. Systems with old BIOS boot loaders use the <strong>Master Boot Record (MBR)</strong> method for patitioning and newer UEFI systems, do you <strong>GUID Parition Table (GPT)</strong> formats.</p>
<p>Linux systems use <code>udev</code> to add block devices and their paritions to the <code>/dev</code> in the form of <code>/dev/sdb1</code> (2nd disk (b) and first parition (1)). </p>
<h3>Editing Partition Tables</h3>
<h4>fdisk</h4>
<p><code>fdisk</code> is the main command for viewing / changing and creating partitions on MBR systems. the <code>-l</code> switch lists the partitions:</p>
<div class="highlight"><pre><span></span><code>#<span class="w"> </span><span class="nv">fdisk</span><span class="w"> </span><span class="o">-</span><span class="nv">l</span><span class="w"> </span><span class="o">/</span><span class="nv">dev</span><span class="o">/</span><span class="nv">sdb</span>
<span class="nv">Disk</span><span class="w"> </span><span class="o">/</span><span class="nv">dev</span><span class="o">/</span><span class="nv">sdb</span>:<span class="w"> </span><span class="mi">20</span><span class="w"> </span><span class="nv">GiB</span>,<span class="w"> </span><span class="mi">21474836480</span><span class="w"> </span><span class="nv">bytes</span>,<span class="w"> </span><span class="mi">41943040</span><span class="w"> </span><span class="nv">sectors</span>
<span class="nv">Disk</span><span class="w"> </span><span class="nv">model</span>:<span class="w"> </span><span class="nv">QEMU</span><span class="w"> </span><span class="nv">HARDDISK</span>
<span class="nv">Units</span>:<span class="w"> </span><span class="nv">sectors</span><span class="w"> </span><span class="nv">of</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mi">512</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">512</span><span class="w"> </span><span class="nv">bytes</span>
<span class="nv">Sector</span><span class="w"> </span><span class="nv">size</span><span class="w"> </span><span class="ss">(</span><span class="nv">logical</span><span class="o">/</span><span class="nv">physical</span><span class="ss">)</span>:<span class="w"> </span><span class="mi">512</span><span class="w"> </span><span class="nv">bytes</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="mi">512</span><span class="w"> </span><span class="nv">bytes</span>
<span class="nv">I</span><span class="o">/</span><span class="nv">O</span><span class="w"> </span><span class="nv">size</span><span class="w"> </span><span class="ss">(</span><span class="nv">minimum</span><span class="o">/</span><span class="nv">optimal</span><span class="ss">)</span>:<span class="w"> </span><span class="mi">512</span><span class="w"> </span><span class="nv">bytes</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="mi">512</span><span class="w"> </span><span class="nv">bytes</span>
<span class="nv">Disklabel</span><span class="w"> </span><span class="nv">type</span>:<span class="w"> </span><span class="nv">gpt</span>
<span class="nv">Disk</span><span class="w"> </span><span class="nv">identifier</span>:<span class="w"> </span><span class="mi">11</span><span class="nv">D48091</span><span class="o">-</span><span class="mi">5</span><span class="nv">AA7</span><span class="o">-</span><span class="mi">422</span><span class="nv">A</span><span class="o">-</span><span class="mi">85</span><span class="nv">F7</span><span class="o">-</span><span class="nv">A23F476CDFD7</span>

<span class="nv">Device</span><span class="w">        </span><span class="nv">Start</span><span class="w">      </span><span class="k">End</span><span class="w">  </span><span class="nv">Sectors</span><span class="w">  </span><span class="nv">Size</span><span class="w"> </span><span class="nv">Type</span>
<span class="o">/</span><span class="nv">dev</span><span class="o">/</span><span class="nv">sdb1</span><span class="w">      </span><span class="mi">2048</span><span class="w">  </span><span class="mi">1050623</span><span class="w">  </span><span class="mi">1048576</span><span class="w">  </span><span class="mi">512</span><span class="nv">M</span><span class="w"> </span><span class="nv">EFI</span><span class="w"> </span><span class="nv">System</span>
<span class="o">/</span><span class="nv">dev</span><span class="o">/</span><span class="nv">sdb2</span><span class="w">   </span><span class="mi">1050624</span><span class="w"> </span><span class="mi">39942143</span><span class="w"> </span><span class="mi">38891520</span><span class="w"> </span><span class="mi">18</span>.<span class="mi">5</span><span class="nv">G</span><span class="w"> </span><span class="nv">Linux</span><span class="w"> </span><span class="nv">filesystem</span>
<span class="o">/</span><span class="nv">dev</span><span class="o">/</span><span class="nv">sdb3</span><span class="w">  </span><span class="mi">39942144</span><span class="w"> </span><span class="mi">41940991</span><span class="w">  </span><span class="mi">1998848</span><span class="w">  </span><span class="mi">976</span><span class="nv">M</span><span class="w"> </span><span class="nv">Linux</span><span class="w"> </span><span class="nv">swap</span>
</code></pre></div>

<ul>
<li>The <strong>Boot</strong> flag shows which partition starts the boot on DOS PCs and has no importance on LILO &amp; GRUB</li>
<li>Start and End shows where this partition is located on the disk.</li>
<li>Size shows each partition size .</li>
<li>ID indicates the partition format (82 is swap, 83 is linux data, ... check all with <code>l</code> in interactive mode)</li>
</ul>
<p>It is also possible to run fdisk in interactive mode. <code>m</code> will show you the help menu:</p>
<div class="highlight"><pre><span></span><code><span class="o">~</span><span class="c1"># fdisk /dev/sda</span>

<span class="n">Welcome</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">fdisk</span><span class="w"> </span><span class="p">(</span><span class="n">util</span><span class="o">-</span><span class="n">linux</span><span class="w"> </span><span class="mf">2.36</span><span class="o">.</span><span class="mi">1</span><span class="p">)</span><span class="o">.</span>
<span class="n">Changes</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="n">remain</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">memory</span><span class="w"> </span><span class="n">only</span><span class="p">,</span><span class="w"> </span><span class="n">until</span><span class="w"> </span><span class="n">you</span><span class="w"> </span><span class="n">decide</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">write</span><span class="w"> </span><span class="n">them</span><span class="o">.</span>
<span class="n">Be</span><span class="w"> </span><span class="n">careful</span><span class="w"> </span><span class="n">before</span><span class="w"> </span><span class="n">using</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">write</span><span class="w"> </span><span class="n">command</span><span class="o">.</span>

<span class="n">Device</span><span class="w"> </span><span class="n">does</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="n">contain</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">recognized</span><span class="w"> </span><span class="n">partition</span><span class="w"> </span><span class="n">table</span><span class="o">.</span>
<span class="n">Created</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">new</span><span class="w"> </span><span class="n">DOS</span><span class="w"> </span><span class="n">disklabel</span><span class="w"> </span><span class="n">with</span><span class="w"> </span><span class="n">disk</span><span class="w"> </span><span class="n">identifier</span><span class="w"> </span><span class="mh">0xe2dbaded</span><span class="o">.</span>

<span class="n">Command</span><span class="w"> </span><span class="p">(</span><span class="n">m</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">help</span><span class="p">):</span><span class="w"> </span><span class="n">m</span>

<span class="n">Help</span><span class="p">:</span>

<span class="w">  </span><span class="n">DOS</span><span class="w"> </span><span class="p">(</span><span class="n">MBR</span><span class="p">)</span>
<span class="w">   </span><span class="n">a</span><span class="w">   </span><span class="n">toggle</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">bootable</span><span class="w"> </span><span class="n">flag</span>
<span class="w">   </span><span class="n">b</span><span class="w">   </span><span class="n">edit</span><span class="w"> </span><span class="n">nested</span><span class="w"> </span><span class="n">BSD</span><span class="w"> </span><span class="n">disklabel</span>
<span class="w">   </span><span class="n">c</span><span class="w">   </span><span class="n">toggle</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">dos</span><span class="w"> </span><span class="n">compatibility</span><span class="w"> </span><span class="n">flag</span>

<span class="w">  </span><span class="n">Generic</span>
<span class="w">   </span><span class="n">d</span><span class="w">   </span><span class="n">delete</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">partition</span>
<span class="w">   </span><span class="n">F</span><span class="w">   </span><span class="n">list</span><span class="w"> </span><span class="n">free</span><span class="w"> </span><span class="n">unpartitioned</span><span class="w"> </span><span class="n">space</span>
<span class="w">   </span><span class="n">l</span><span class="w">   </span><span class="n">list</span><span class="w"> </span><span class="n">known</span><span class="w"> </span><span class="n">partition</span><span class="w"> </span><span class="n">types</span>
<span class="w">   </span><span class="n">n</span><span class="w">   </span><span class="n">add</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">new</span><span class="w"> </span><span class="n">partition</span>
<span class="w">   </span><span class="n">p</span><span class="w">   </span><span class="nb">print</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">partition</span><span class="w"> </span><span class="n">table</span>
<span class="w">   </span><span class="n">t</span><span class="w">   </span><span class="n">change</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">partition</span><span class="w"> </span><span class="n">type</span>
<span class="w">   </span><span class="n">v</span><span class="w">   </span><span class="n">verify</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">partition</span><span class="w"> </span><span class="n">table</span>
<span class="w">   </span><span class="n">i</span><span class="w">   </span><span class="nb">print</span><span class="w"> </span><span class="n">information</span><span class="w"> </span><span class="n">about</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">partition</span>

<span class="w">  </span><span class="n">Misc</span>
<span class="w">   </span><span class="n">m</span><span class="w">   </span><span class="nb">print</span><span class="w"> </span><span class="n">this</span><span class="w"> </span><span class="n">menu</span>
<span class="w">   </span><span class="n">u</span><span class="w">   </span><span class="n">change</span><span class="w"> </span><span class="n">display</span><span class="o">/</span><span class="n">entry</span><span class="w"> </span><span class="n">units</span>
<span class="w">   </span><span class="n">x</span><span class="w">   </span><span class="n">extra</span><span class="w"> </span><span class="n">functionality</span><span class="w"> </span><span class="p">(</span><span class="n">experts</span><span class="w"> </span><span class="n">only</span><span class="p">)</span>

<span class="w">  </span><span class="n">Script</span>
<span class="w">   </span><span class="n">I</span><span class="w">   </span><span class="nb">load</span><span class="w"> </span><span class="n">disk</span><span class="w"> </span><span class="n">layout</span><span class="w"> </span><span class="n">from</span><span class="w"> </span><span class="n">sfdisk</span><span class="w"> </span><span class="n">script</span><span class="w"> </span><span class="n">file</span>
<span class="w">   </span><span class="n">O</span><span class="w">   </span><span class="n">dump</span><span class="w"> </span><span class="n">disk</span><span class="w"> </span><span class="n">layout</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">sfdisk</span><span class="w"> </span><span class="n">script</span><span class="w"> </span><span class="n">file</span>

<span class="w">  </span><span class="n">Save</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="n">Exit</span>
<span class="w">   </span><span class="n">w</span><span class="w">   </span><span class="n">write</span><span class="w"> </span><span class="n">table</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">disk</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">exit</span>
<span class="w">   </span><span class="n">q</span><span class="w">   </span><span class="n">quit</span><span class="w"> </span><span class="n">without</span><span class="w"> </span><span class="n">saving</span><span class="w"> </span><span class="n">changes</span>

<span class="w">  </span><span class="n">Create</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">new</span><span class="w"> </span><span class="n">label</span>
<span class="w">   </span><span class="n">g</span><span class="w">   </span><span class="n">create</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">new</span><span class="w"> </span><span class="n">empty</span><span class="w"> </span><span class="n">GPT</span><span class="w"> </span><span class="n">partition</span><span class="w"> </span><span class="n">table</span>
<span class="w">   </span><span class="n">G</span><span class="w">   </span><span class="n">create</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">new</span><span class="w"> </span><span class="n">empty</span><span class="w"> </span><span class="n">SGI</span><span class="w"> </span><span class="p">(</span><span class="n">IRIX</span><span class="p">)</span><span class="w"> </span><span class="n">partition</span><span class="w"> </span><span class="n">table</span>
<span class="w">   </span><span class="n">o</span><span class="w">   </span><span class="n">create</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">new</span><span class="w"> </span><span class="n">empty</span><span class="w"> </span><span class="n">DOS</span><span class="w"> </span><span class="n">partition</span><span class="w"> </span><span class="n">table</span>
<span class="w">   </span><span class="n">s</span><span class="w">   </span><span class="n">create</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">new</span><span class="w"> </span><span class="n">empty</span><span class="w"> </span><span class="n">Sun</span><span class="w"> </span><span class="n">partition</span><span class="w"> </span><span class="n">table</span>


<span class="n">Command</span><span class="w"> </span><span class="p">(</span><span class="n">m</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">help</span><span class="p">):</span>
</code></pre></div>

<p>To check current partition list, try the <code>p</code> (print) command:</p>
<div class="highlight"><pre><span></span><code><span class="nv">Command</span><span class="w"> </span><span class="ss">(</span><span class="nv">m</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="nv">help</span><span class="ss">)</span>:<span class="w"> </span><span class="nv">p</span>
<span class="nv">Disk</span><span class="w"> </span><span class="o">/</span><span class="nv">dev</span><span class="o">/</span><span class="nv">sdb</span>:<span class="w"> </span><span class="mi">20</span><span class="w"> </span><span class="nv">GiB</span>,<span class="w"> </span><span class="mi">21474836480</span><span class="w"> </span><span class="nv">bytes</span>,<span class="w"> </span><span class="mi">41943040</span><span class="w"> </span><span class="nv">sectors</span>
<span class="nv">Disk</span><span class="w"> </span><span class="nv">model</span>:<span class="w"> </span><span class="nv">QEMU</span><span class="w"> </span><span class="nv">HARDDISK</span>
<span class="nv">Units</span>:<span class="w"> </span><span class="nv">sectors</span><span class="w"> </span><span class="nv">of</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mi">512</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">512</span><span class="w"> </span><span class="nv">bytes</span>
<span class="nv">Sector</span><span class="w"> </span><span class="nv">size</span><span class="w"> </span><span class="ss">(</span><span class="nv">logical</span><span class="o">/</span><span class="nv">physical</span><span class="ss">)</span>:<span class="w"> </span><span class="mi">512</span><span class="w"> </span><span class="nv">bytes</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="mi">512</span><span class="w"> </span><span class="nv">bytes</span>
<span class="nv">I</span><span class="o">/</span><span class="nv">O</span><span class="w"> </span><span class="nv">size</span><span class="w"> </span><span class="ss">(</span><span class="nv">minimum</span><span class="o">/</span><span class="nv">optimal</span><span class="ss">)</span>:<span class="w"> </span><span class="mi">512</span><span class="w"> </span><span class="nv">bytes</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="mi">512</span><span class="w"> </span><span class="nv">bytes</span>
<span class="nv">Disklabel</span><span class="w"> </span><span class="nv">type</span>:<span class="w"> </span><span class="nv">gpt</span>
<span class="nv">Disk</span><span class="w"> </span><span class="nv">identifier</span>:<span class="w"> </span><span class="mi">11</span><span class="nv">D48091</span><span class="o">-</span><span class="mi">5</span><span class="nv">AA7</span><span class="o">-</span><span class="mi">422</span><span class="nv">A</span><span class="o">-</span><span class="mi">85</span><span class="nv">F7</span><span class="o">-</span><span class="nv">A23F476CDFD7</span>

<span class="nv">Device</span><span class="w">        </span><span class="nv">Start</span><span class="w">      </span><span class="k">End</span><span class="w">  </span><span class="nv">Sectors</span><span class="w">  </span><span class="nv">Size</span><span class="w"> </span><span class="nv">Type</span>
<span class="o">/</span><span class="nv">dev</span><span class="o">/</span><span class="nv">sdb1</span><span class="w">      </span><span class="mi">2048</span><span class="w">  </span><span class="mi">1050623</span><span class="w">  </span><span class="mi">1048576</span><span class="w">  </span><span class="mi">512</span><span class="nv">M</span><span class="w"> </span><span class="nv">EFI</span><span class="w"> </span><span class="nv">System</span>
<span class="o">/</span><span class="nv">dev</span><span class="o">/</span><span class="nv">sdb2</span><span class="w">   </span><span class="mi">1050624</span><span class="w"> </span><span class="mi">39942143</span><span class="w"> </span><span class="mi">38891520</span><span class="w"> </span><span class="mi">18</span>.<span class="mi">5</span><span class="nv">G</span><span class="w"> </span><span class="nv">Linux</span><span class="w"> </span><span class="nv">filesystem</span>
<span class="o">/</span><span class="nv">dev</span><span class="o">/</span><span class="nv">sdb3</span><span class="w">  </span><span class="mi">39942144</span><span class="w"> </span><span class="mi">41940991</span><span class="w">  </span><span class="mi">1998848</span><span class="w">  </span><span class="mi">976</span><span class="nv">M</span><span class="w"> </span><span class="nv">Linux</span><span class="w"> </span><span class="nv">swap</span>
</code></pre></div>

<p>You should remember the disk layouts concepts from the <a href="/1021-design-hard-disk-layout.html">chapter 102.1</a>. So lets create some paritions using <code>fdisk</code>. I will use the <code>n</code> for <em>new</em>:</p>
<div class="highlight"><pre><span></span><code>#<span class="w"> </span><span class="nv">fdisk</span><span class="w"> </span><span class="o">/</span><span class="nv">dev</span><span class="o">/</span><span class="nv">sda</span>

<span class="nv">Welcome</span><span class="w"> </span><span class="nv">to</span><span class="w"> </span><span class="nv">fdisk</span><span class="w"> </span><span class="ss">(</span><span class="nv">util</span><span class="o">-</span><span class="nv">linux</span><span class="w"> </span><span class="mi">2</span>.<span class="mi">36</span>.<span class="mi">1</span><span class="ss">)</span>.
<span class="nv">Changes</span><span class="w"> </span><span class="nv">will</span><span class="w"> </span><span class="nv">remain</span><span class="w"> </span><span class="nv">in</span><span class="w"> </span><span class="nv">memory</span><span class="w"> </span><span class="nv">only</span>,<span class="w"> </span><span class="k">until</span><span class="w"> </span><span class="nv">you</span><span class="w"> </span><span class="nv">decide</span><span class="w"> </span><span class="nv">to</span><span class="w"> </span><span class="nv">write</span><span class="w"> </span><span class="nv">them</span>.
<span class="nv">Be</span><span class="w"> </span><span class="nv">careful</span><span class="w"> </span><span class="nv">before</span><span class="w"> </span><span class="nv">using</span><span class="w"> </span><span class="nv">the</span><span class="w"> </span><span class="nv">write</span><span class="w"> </span><span class="nv">command</span>.

<span class="nv">Device</span><span class="w"> </span><span class="nv">does</span><span class="w"> </span><span class="nv">not</span><span class="w"> </span><span class="nv">contain</span><span class="w"> </span><span class="nv">a</span><span class="w"> </span><span class="nv">recognized</span><span class="w"> </span><span class="nv">partition</span><span class="w"> </span><span class="nv">table</span>.
<span class="nv">Created</span><span class="w"> </span><span class="nv">a</span><span class="w"> </span><span class="nv">new</span><span class="w"> </span><span class="nv">DOS</span><span class="w"> </span><span class="nv">disklabel</span><span class="w"> </span><span class="nv">with</span><span class="w"> </span><span class="nv">disk</span><span class="w"> </span><span class="nv">identifier</span><span class="w"> </span><span class="mi">0</span><span class="nv">x40bd0f72</span>.

<span class="nv">Command</span><span class="w"> </span><span class="ss">(</span><span class="nv">m</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="nv">help</span><span class="ss">)</span>:<span class="w"> </span><span class="nv">n</span>
<span class="nv">Partition</span><span class="w"> </span><span class="nv">type</span>
<span class="w">   </span><span class="nv">p</span><span class="w">   </span><span class="nv">primary</span><span class="w"> </span><span class="ss">(</span><span class="mi">0</span><span class="w"> </span><span class="nv">primary</span>,<span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="nv">extended</span>,<span class="w"> </span><span class="mi">4</span><span class="w"> </span><span class="nv">free</span><span class="ss">)</span>
<span class="w">   </span><span class="nv">e</span><span class="w">   </span><span class="nv">extended</span><span class="w"> </span><span class="ss">(</span><span class="nv">container</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="nv">logical</span><span class="w"> </span><span class="nv">partitions</span><span class="ss">)</span>
<span class="nv">Select</span><span class="w"> </span><span class="ss">(</span><span class="nv">default</span><span class="w"> </span><span class="nv">p</span><span class="ss">)</span>:<span class="w"> </span><span class="nv">p</span>
<span class="nv">Partition</span><span class="w"> </span><span class="nv">number</span><span class="w"> </span><span class="ss">(</span><span class="mi">1</span><span class="o">-</span><span class="mi">4</span>,<span class="w"> </span><span class="nv">default</span><span class="w"> </span><span class="mi">1</span><span class="ss">)</span>:
<span class="nv">First</span><span class="w"> </span><span class="nv">sector</span><span class="w"> </span><span class="ss">(</span><span class="mi">2048</span><span class="o">-</span><span class="mi">8388607</span>,<span class="w"> </span><span class="nv">default</span><span class="w"> </span><span class="mi">2048</span><span class="ss">)</span>:
<span class="nv">Last</span><span class="w"> </span><span class="nv">sector</span>,<span class="w"> </span><span class="o">+/-</span><span class="nv">sectors</span><span class="w"> </span><span class="nv">or</span><span class="w"> </span><span class="o">+/-</span><span class="nv">size</span>{<span class="nv">K</span>,<span class="nv">M</span>,<span class="nv">G</span>,<span class="nv">T</span>,<span class="nv">P</span>}<span class="w"> </span><span class="ss">(</span><span class="mi">2048</span><span class="o">-</span><span class="mi">8388607</span>,<span class="w"> </span><span class="nv">default</span><span class="w"> </span><span class="mi">8388607</span><span class="ss">)</span>:<span class="w"> </span><span class="o">+</span><span class="mi">1</span><span class="nv">G</span>

<span class="nv">Created</span><span class="w"> </span><span class="nv">a</span><span class="w"> </span><span class="nv">new</span><span class="w"> </span><span class="nv">partition</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="nv">of</span><span class="w"> </span><span class="nv">type</span><span class="w"> </span><span class="s1">&#39;Linux&#39;</span><span class="w"> </span><span class="nv">and</span><span class="w"> </span><span class="nv">of</span><span class="w"> </span><span class="nv">size</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="nv">GiB</span>.

<span class="nv">Command</span><span class="w"> </span><span class="ss">(</span><span class="nv">m</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="nv">help</span><span class="ss">)</span>:<span class="w"> </span><span class="nv">p</span>
<span class="nv">Disk</span><span class="w"> </span><span class="o">/</span><span class="nv">dev</span><span class="o">/</span><span class="nv">sda</span>:<span class="w"> </span><span class="mi">4</span><span class="w"> </span><span class="nv">GiB</span>,<span class="w"> </span><span class="mi">4294967296</span><span class="w"> </span><span class="nv">bytes</span>,<span class="w"> </span><span class="mi">8388608</span><span class="w"> </span><span class="nv">sectors</span>
<span class="nv">Disk</span><span class="w"> </span><span class="nv">model</span>:<span class="w"> </span><span class="nv">QEMU</span><span class="w"> </span><span class="nv">HARDDISK</span>
<span class="nv">Units</span>:<span class="w"> </span><span class="nv">sectors</span><span class="w"> </span><span class="nv">of</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mi">512</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">512</span><span class="w"> </span><span class="nv">bytes</span>
<span class="nv">Sector</span><span class="w"> </span><span class="nv">size</span><span class="w"> </span><span class="ss">(</span><span class="nv">logical</span><span class="o">/</span><span class="nv">physical</span><span class="ss">)</span>:<span class="w"> </span><span class="mi">512</span><span class="w"> </span><span class="nv">bytes</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="mi">512</span><span class="w"> </span><span class="nv">bytes</span>
<span class="nv">I</span><span class="o">/</span><span class="nv">O</span><span class="w"> </span><span class="nv">size</span><span class="w"> </span><span class="ss">(</span><span class="nv">minimum</span><span class="o">/</span><span class="nv">optimal</span><span class="ss">)</span>:<span class="w"> </span><span class="mi">512</span><span class="w"> </span><span class="nv">bytes</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="mi">512</span><span class="w"> </span><span class="nv">bytes</span>
<span class="nv">Disklabel</span><span class="w"> </span><span class="nv">type</span>:<span class="w"> </span><span class="nv">dos</span>
<span class="nv">Disk</span><span class="w"> </span><span class="nv">identifier</span>:<span class="w"> </span><span class="mi">0</span><span class="nv">x40bd0f72</span>

<span class="nv">Device</span><span class="w">     </span><span class="nv">Boot</span><span class="w"> </span><span class="nv">Start</span><span class="w">     </span><span class="k">End</span><span class="w"> </span><span class="nv">Sectors</span><span class="w"> </span><span class="nv">Size</span><span class="w"> </span><span class="nv">Id</span><span class="w"> </span><span class="nv">Type</span>
<span class="o">/</span><span class="nv">dev</span><span class="o">/</span><span class="nv">sda1</span><span class="w">        </span><span class="mi">2048</span><span class="w"> </span><span class="mi">2099199</span><span class="w"> </span><span class="mi">2097152</span><span class="w">   </span><span class="mi">1</span><span class="nv">G</span><span class="w"> </span><span class="mi">83</span><span class="w"> </span><span class="nv">Linux</span>
</code></pre></div>

<p>Lets  create another Extened parition and add a Linux (83) and a Swap (82) parition there. </p>
<div class="highlight"><pre><span></span><code><span class="nv">Command</span><span class="w"> </span><span class="ss">(</span><span class="nv">m</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="nv">help</span><span class="ss">)</span>:<span class="w"> </span><span class="nv">n</span>
<span class="nv">Partition</span><span class="w"> </span><span class="nv">type</span>
<span class="w">   </span><span class="nv">p</span><span class="w">   </span><span class="nv">primary</span><span class="w"> </span><span class="ss">(</span><span class="mi">1</span><span class="w"> </span><span class="nv">primary</span>,<span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="nv">extended</span>,<span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="nv">free</span><span class="ss">)</span>
<span class="w">   </span><span class="nv">e</span><span class="w">   </span><span class="nv">extended</span><span class="w"> </span><span class="ss">(</span><span class="nv">container</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="nv">logical</span><span class="w"> </span><span class="nv">partitions</span><span class="ss">)</span>
<span class="nv">Select</span><span class="w"> </span><span class="ss">(</span><span class="nv">default</span><span class="w"> </span><span class="nv">p</span><span class="ss">)</span>:<span class="w"> </span><span class="nv">e</span>
<span class="nv">Partition</span><span class="w"> </span><span class="nv">number</span><span class="w"> </span><span class="ss">(</span><span class="mi">2</span><span class="o">-</span><span class="mi">4</span>,<span class="w"> </span><span class="nv">default</span><span class="w"> </span><span class="mi">2</span><span class="ss">)</span>:
<span class="nv">First</span><span class="w"> </span><span class="nv">sector</span><span class="w"> </span><span class="ss">(</span><span class="mi">2099200</span><span class="o">-</span><span class="mi">8388607</span>,<span class="w"> </span><span class="nv">default</span><span class="w"> </span><span class="mi">2099200</span><span class="ss">)</span>:
<span class="nv">Last</span><span class="w"> </span><span class="nv">sector</span>,<span class="w"> </span><span class="o">+/-</span><span class="nv">sectors</span><span class="w"> </span><span class="nv">or</span><span class="w"> </span><span class="o">+/-</span><span class="nv">size</span>{<span class="nv">K</span>,<span class="nv">M</span>,<span class="nv">G</span>,<span class="nv">T</span>,<span class="nv">P</span>}<span class="w"> </span><span class="ss">(</span><span class="mi">2099200</span><span class="o">-</span><span class="mi">8388607</span>,<span class="w"> </span><span class="nv">default</span><span class="w"> </span><span class="mi">8388607</span><span class="ss">)</span>:

<span class="nv">Created</span><span class="w"> </span><span class="nv">a</span><span class="w"> </span><span class="nv">new</span><span class="w"> </span><span class="nv">partition</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="nv">of</span><span class="w"> </span><span class="nv">type</span><span class="w"> </span><span class="s1">&#39;Extended&#39;</span><span class="w"> </span><span class="nv">and</span><span class="w"> </span><span class="nv">of</span><span class="w"> </span><span class="nv">size</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="nv">GiB</span>.

<span class="nv">Command</span><span class="w"> </span><span class="ss">(</span><span class="nv">m</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="nv">help</span><span class="ss">)</span>:<span class="w"> </span><span class="nv">p</span>
<span class="nv">Disk</span><span class="w"> </span><span class="o">/</span><span class="nv">dev</span><span class="o">/</span><span class="nv">sda</span>:<span class="w"> </span><span class="mi">4</span><span class="w"> </span><span class="nv">GiB</span>,<span class="w"> </span><span class="mi">4294967296</span><span class="w"> </span><span class="nv">bytes</span>,<span class="w"> </span><span class="mi">8388608</span><span class="w"> </span><span class="nv">sectors</span>
<span class="nv">Disk</span><span class="w"> </span><span class="nv">model</span>:<span class="w"> </span><span class="nv">QEMU</span><span class="w"> </span><span class="nv">HARDDISK</span>
<span class="nv">Units</span>:<span class="w"> </span><span class="nv">sectors</span><span class="w"> </span><span class="nv">of</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mi">512</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">512</span><span class="w"> </span><span class="nv">bytes</span>
<span class="nv">Sector</span><span class="w"> </span><span class="nv">size</span><span class="w"> </span><span class="ss">(</span><span class="nv">logical</span><span class="o">/</span><span class="nv">physical</span><span class="ss">)</span>:<span class="w"> </span><span class="mi">512</span><span class="w"> </span><span class="nv">bytes</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="mi">512</span><span class="w"> </span><span class="nv">bytes</span>
<span class="nv">I</span><span class="o">/</span><span class="nv">O</span><span class="w"> </span><span class="nv">size</span><span class="w"> </span><span class="ss">(</span><span class="nv">minimum</span><span class="o">/</span><span class="nv">optimal</span><span class="ss">)</span>:<span class="w"> </span><span class="mi">512</span><span class="w"> </span><span class="nv">bytes</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="mi">512</span><span class="w"> </span><span class="nv">bytes</span>
<span class="nv">Disklabel</span><span class="w"> </span><span class="nv">type</span>:<span class="w"> </span><span class="nv">dos</span>
<span class="nv">Disk</span><span class="w"> </span><span class="nv">identifier</span>:<span class="w"> </span><span class="mi">0</span><span class="nv">x40bd0f72</span>

<span class="nv">Device</span><span class="w">     </span><span class="nv">Boot</span><span class="w">   </span><span class="nv">Start</span><span class="w">     </span><span class="k">End</span><span class="w"> </span><span class="nv">Sectors</span><span class="w"> </span><span class="nv">Size</span><span class="w"> </span><span class="nv">Id</span><span class="w"> </span><span class="nv">Type</span>
<span class="o">/</span><span class="nv">dev</span><span class="o">/</span><span class="nv">sda1</span><span class="w">          </span><span class="mi">2048</span><span class="w"> </span><span class="mi">2099199</span><span class="w"> </span><span class="mi">2097152</span><span class="w">   </span><span class="mi">1</span><span class="nv">G</span><span class="w"> </span><span class="mi">83</span><span class="w"> </span><span class="nv">Linux</span>
<span class="o">/</span><span class="nv">dev</span><span class="o">/</span><span class="nv">sda2</span><span class="w">       </span><span class="mi">2099200</span><span class="w"> </span><span class="mi">8388607</span><span class="w"> </span><span class="mi">6289408</span><span class="w">   </span><span class="mi">3</span><span class="nv">G</span><span class="w">  </span><span class="mi">5</span><span class="w"> </span><span class="nv">Extended</span>

<span class="nv">Command</span><span class="w"> </span><span class="ss">(</span><span class="nv">m</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="nv">help</span><span class="ss">)</span>:<span class="w"> </span><span class="nv">n</span>
<span class="nv">All</span><span class="w"> </span><span class="nv">space</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="nv">primary</span><span class="w"> </span><span class="nv">partitions</span><span class="w"> </span><span class="nv">is</span><span class="w"> </span><span class="nv">in</span><span class="w"> </span><span class="nv">use</span>.
<span class="nv">Adding</span><span class="w"> </span><span class="nv">logical</span><span class="w"> </span><span class="nv">partition</span><span class="w"> </span><span class="mi">5</span>
<span class="nv">First</span><span class="w"> </span><span class="nv">sector</span><span class="w"> </span><span class="ss">(</span><span class="mi">2101248</span><span class="o">-</span><span class="mi">8388607</span>,<span class="w"> </span><span class="nv">default</span><span class="w"> </span><span class="mi">2101248</span><span class="ss">)</span>:
<span class="nv">Last</span><span class="w"> </span><span class="nv">sector</span>,<span class="w"> </span><span class="o">+/-</span><span class="nv">sectors</span><span class="w"> </span><span class="nv">or</span><span class="w"> </span><span class="o">+/-</span><span class="nv">size</span>{<span class="nv">K</span>,<span class="nv">M</span>,<span class="nv">G</span>,<span class="nv">T</span>,<span class="nv">P</span>}<span class="w"> </span><span class="ss">(</span><span class="mi">2101248</span><span class="o">-</span><span class="mi">8388607</span>,<span class="w"> </span><span class="nv">default</span><span class="w"> </span><span class="mi">8388607</span><span class="ss">)</span>:

<span class="nv">Created</span><span class="w"> </span><span class="nv">a</span><span class="w"> </span><span class="nv">new</span><span class="w"> </span><span class="nv">partition</span><span class="w"> </span><span class="mi">5</span><span class="w"> </span><span class="nv">of</span><span class="w"> </span><span class="nv">type</span><span class="w"> </span><span class="s1">&#39;Linux&#39;</span><span class="w"> </span><span class="nv">and</span><span class="w"> </span><span class="nv">of</span><span class="w"> </span><span class="nv">size</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="nv">GiB</span>.

<span class="nv">Command</span><span class="w"> </span><span class="ss">(</span><span class="nv">m</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="nv">help</span><span class="ss">)</span>:<span class="w"> </span><span class="nv">p</span>
<span class="nv">Disk</span><span class="w"> </span><span class="o">/</span><span class="nv">dev</span><span class="o">/</span><span class="nv">sda</span>:<span class="w"> </span><span class="mi">4</span><span class="w"> </span><span class="nv">GiB</span>,<span class="w"> </span><span class="mi">4294967296</span><span class="w"> </span><span class="nv">bytes</span>,<span class="w"> </span><span class="mi">8388608</span><span class="w"> </span><span class="nv">sectors</span>
<span class="nv">Disk</span><span class="w"> </span><span class="nv">model</span>:<span class="w"> </span><span class="nv">QEMU</span><span class="w"> </span><span class="nv">HARDDISK</span>
<span class="nv">Units</span>:<span class="w"> </span><span class="nv">sectors</span><span class="w"> </span><span class="nv">of</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mi">512</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">512</span><span class="w"> </span><span class="nv">bytes</span>
<span class="nv">Sector</span><span class="w"> </span><span class="nv">size</span><span class="w"> </span><span class="ss">(</span><span class="nv">logical</span><span class="o">/</span><span class="nv">physical</span><span class="ss">)</span>:<span class="w"> </span><span class="mi">512</span><span class="w"> </span><span class="nv">bytes</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="mi">512</span><span class="w"> </span><span class="nv">bytes</span>
<span class="nv">I</span><span class="o">/</span><span class="nv">O</span><span class="w"> </span><span class="nv">size</span><span class="w"> </span><span class="ss">(</span><span class="nv">minimum</span><span class="o">/</span><span class="nv">optimal</span><span class="ss">)</span>:<span class="w"> </span><span class="mi">512</span><span class="w"> </span><span class="nv">bytes</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="mi">512</span><span class="w"> </span><span class="nv">bytes</span>
<span class="nv">Disklabel</span><span class="w"> </span><span class="nv">type</span>:<span class="w"> </span><span class="nv">dos</span>
<span class="nv">Disk</span><span class="w"> </span><span class="nv">identifier</span>:<span class="w"> </span><span class="mi">0</span><span class="nv">x40bd0f72</span>

<span class="nv">Device</span><span class="w">     </span><span class="nv">Boot</span><span class="w">   </span><span class="nv">Start</span><span class="w">     </span><span class="k">End</span><span class="w"> </span><span class="nv">Sectors</span><span class="w"> </span><span class="nv">Size</span><span class="w"> </span><span class="nv">Id</span><span class="w"> </span><span class="nv">Type</span>
<span class="o">/</span><span class="nv">dev</span><span class="o">/</span><span class="nv">sda1</span><span class="w">          </span><span class="mi">2048</span><span class="w"> </span><span class="mi">2099199</span><span class="w"> </span><span class="mi">2097152</span><span class="w">   </span><span class="mi">1</span><span class="nv">G</span><span class="w"> </span><span class="mi">83</span><span class="w"> </span><span class="nv">Linux</span>
<span class="o">/</span><span class="nv">dev</span><span class="o">/</span><span class="nv">sda2</span><span class="w">       </span><span class="mi">2099200</span><span class="w"> </span><span class="mi">8388607</span><span class="w"> </span><span class="mi">6289408</span><span class="w">   </span><span class="mi">3</span><span class="nv">G</span><span class="w">  </span><span class="mi">5</span><span class="w"> </span><span class="nv">Extended</span>
<span class="o">/</span><span class="nv">dev</span><span class="o">/</span><span class="nv">sda5</span><span class="w">       </span><span class="mi">2101248</span><span class="w"> </span><span class="mi">8388607</span><span class="w"> </span><span class="mi">6287360</span><span class="w">   </span><span class="mi">3</span><span class="nv">G</span><span class="w"> </span><span class="mi">83</span><span class="w"> </span><span class="nv">Linux</span>
</code></pre></div>

<p>Oh! I forgot to allocate space for the swap partition. Lets delete the previous one and add two new ones:</p>
<div class="highlight"><pre><span></span><code><span class="nv">Command</span><span class="w"> </span><span class="ss">(</span><span class="nv">m</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="nv">help</span><span class="ss">)</span>:<span class="w"> </span><span class="nv">d</span>
<span class="nv">Partition</span><span class="w"> </span><span class="nv">number</span><span class="w"> </span><span class="ss">(</span><span class="mi">1</span>,<span class="mi">2</span>,<span class="mi">5</span>,<span class="w"> </span><span class="nv">default</span><span class="w"> </span><span class="mi">5</span><span class="ss">)</span>:<span class="w"> </span><span class="mi">5</span>

<span class="nv">Partition</span><span class="w"> </span><span class="mi">5</span><span class="w"> </span><span class="nv">has</span><span class="w"> </span><span class="nv">been</span><span class="w"> </span><span class="nv">deleted</span>.

<span class="nv">Command</span><span class="w"> </span><span class="ss">(</span><span class="nv">m</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="nv">help</span><span class="ss">)</span>:<span class="w"> </span><span class="nv">n</span>
<span class="nv">All</span><span class="w"> </span><span class="nv">space</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="nv">primary</span><span class="w"> </span><span class="nv">partitions</span><span class="w"> </span><span class="nv">is</span><span class="w"> </span><span class="nv">in</span><span class="w"> </span><span class="nv">use</span>.
<span class="nv">Adding</span><span class="w"> </span><span class="nv">logical</span><span class="w"> </span><span class="nv">partition</span><span class="w"> </span><span class="mi">5</span>
<span class="nv">First</span><span class="w"> </span><span class="nv">sector</span><span class="w"> </span><span class="ss">(</span><span class="mi">2101248</span><span class="o">-</span><span class="mi">8388607</span>,<span class="w"> </span><span class="nv">default</span><span class="w"> </span><span class="mi">2101248</span><span class="ss">)</span>:
<span class="nv">Last</span><span class="w"> </span><span class="nv">sector</span>,<span class="w"> </span><span class="o">+/-</span><span class="nv">sectors</span><span class="w"> </span><span class="nv">or</span><span class="w"> </span><span class="o">+/-</span><span class="nv">size</span>{<span class="nv">K</span>,<span class="nv">M</span>,<span class="nv">G</span>,<span class="nv">T</span>,<span class="nv">P</span>}<span class="w"> </span><span class="ss">(</span><span class="mi">2101248</span><span class="o">-</span><span class="mi">8388607</span>,<span class="w"> </span><span class="nv">default</span><span class="w"> </span><span class="mi">8388607</span><span class="ss">)</span>:<span class="w"> </span><span class="o">+</span><span class="mi">1</span><span class="nv">G</span>

<span class="nv">Created</span><span class="w"> </span><span class="nv">a</span><span class="w"> </span><span class="nv">new</span><span class="w"> </span><span class="nv">partition</span><span class="w"> </span><span class="mi">5</span><span class="w"> </span><span class="nv">of</span><span class="w"> </span><span class="nv">type</span><span class="w"> </span><span class="s1">&#39;Linux&#39;</span><span class="w"> </span><span class="nv">and</span><span class="w"> </span><span class="nv">of</span><span class="w"> </span><span class="nv">size</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="nv">GiB</span>.

<span class="nv">Command</span><span class="w"> </span><span class="ss">(</span><span class="nv">m</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="nv">help</span><span class="ss">)</span>:<span class="w"> </span><span class="nv">p</span>
<span class="nv">Disk</span><span class="w"> </span><span class="o">/</span><span class="nv">dev</span><span class="o">/</span><span class="nv">sda</span>:<span class="w"> </span><span class="mi">4</span><span class="w"> </span><span class="nv">GiB</span>,<span class="w"> </span><span class="mi">4294967296</span><span class="w"> </span><span class="nv">bytes</span>,<span class="w"> </span><span class="mi">8388608</span><span class="w"> </span><span class="nv">sectors</span>
<span class="nv">Disk</span><span class="w"> </span><span class="nv">model</span>:<span class="w"> </span><span class="nv">QEMU</span><span class="w"> </span><span class="nv">HARDDISK</span>
<span class="nv">Units</span>:<span class="w"> </span><span class="nv">sectors</span><span class="w"> </span><span class="nv">of</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mi">512</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">512</span><span class="w"> </span><span class="nv">bytes</span>
<span class="nv">Sector</span><span class="w"> </span><span class="nv">size</span><span class="w"> </span><span class="ss">(</span><span class="nv">logical</span><span class="o">/</span><span class="nv">physical</span><span class="ss">)</span>:<span class="w"> </span><span class="mi">512</span><span class="w"> </span><span class="nv">bytes</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="mi">512</span><span class="w"> </span><span class="nv">bytes</span>
<span class="nv">I</span><span class="o">/</span><span class="nv">O</span><span class="w"> </span><span class="nv">size</span><span class="w"> </span><span class="ss">(</span><span class="nv">minimum</span><span class="o">/</span><span class="nv">optimal</span><span class="ss">)</span>:<span class="w"> </span><span class="mi">512</span><span class="w"> </span><span class="nv">bytes</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="mi">512</span><span class="w"> </span><span class="nv">bytes</span>
<span class="nv">Disklabel</span><span class="w"> </span><span class="nv">type</span>:<span class="w"> </span><span class="nv">dos</span>
<span class="nv">Disk</span><span class="w"> </span><span class="nv">identifier</span>:<span class="w"> </span><span class="mi">0</span><span class="nv">x40bd0f72</span>

<span class="nv">Device</span><span class="w">     </span><span class="nv">Boot</span><span class="w">   </span><span class="nv">Start</span><span class="w">     </span><span class="k">End</span><span class="w"> </span><span class="nv">Sectors</span><span class="w"> </span><span class="nv">Size</span><span class="w"> </span><span class="nv">Id</span><span class="w"> </span><span class="nv">Type</span>
<span class="o">/</span><span class="nv">dev</span><span class="o">/</span><span class="nv">sda1</span><span class="w">          </span><span class="mi">2048</span><span class="w"> </span><span class="mi">2099199</span><span class="w"> </span><span class="mi">2097152</span><span class="w">   </span><span class="mi">1</span><span class="nv">G</span><span class="w"> </span><span class="mi">83</span><span class="w"> </span><span class="nv">Linux</span>
<span class="o">/</span><span class="nv">dev</span><span class="o">/</span><span class="nv">sda2</span><span class="w">       </span><span class="mi">2099200</span><span class="w"> </span><span class="mi">8388607</span><span class="w"> </span><span class="mi">6289408</span><span class="w">   </span><span class="mi">3</span><span class="nv">G</span><span class="w">  </span><span class="mi">5</span><span class="w"> </span><span class="nv">Extended</span>
<span class="o">/</span><span class="nv">dev</span><span class="o">/</span><span class="nv">sda5</span><span class="w">       </span><span class="mi">2101248</span><span class="w"> </span><span class="mi">4198399</span><span class="w"> </span><span class="mi">2097152</span><span class="w">   </span><span class="mi">1</span><span class="nv">G</span><span class="w"> </span><span class="mi">83</span><span class="w"> </span><span class="nv">Linux</span>

<span class="nv">Command</span><span class="w"> </span><span class="ss">(</span><span class="nv">m</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="nv">help</span><span class="ss">)</span>:<span class="w"> </span><span class="nv">n</span>
<span class="nv">All</span><span class="w"> </span><span class="nv">space</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="nv">primary</span><span class="w"> </span><span class="nv">partitions</span><span class="w"> </span><span class="nv">is</span><span class="w"> </span><span class="nv">in</span><span class="w"> </span><span class="nv">use</span>.
<span class="nv">Adding</span><span class="w"> </span><span class="nv">logical</span><span class="w"> </span><span class="nv">partition</span><span class="w"> </span><span class="mi">6</span>
<span class="nv">First</span><span class="w"> </span><span class="nv">sector</span><span class="w"> </span><span class="ss">(</span><span class="mi">4200448</span><span class="o">-</span><span class="mi">8388607</span>,<span class="w"> </span><span class="nv">default</span><span class="w"> </span><span class="mi">4200448</span><span class="ss">)</span>:
<span class="nv">Last</span><span class="w"> </span><span class="nv">sector</span>,<span class="w"> </span><span class="o">+/-</span><span class="nv">sectors</span><span class="w"> </span><span class="nv">or</span><span class="w"> </span><span class="o">+/-</span><span class="nv">size</span>{<span class="nv">K</span>,<span class="nv">M</span>,<span class="nv">G</span>,<span class="nv">T</span>,<span class="nv">P</span>}<span class="w"> </span><span class="ss">(</span><span class="mi">4200448</span><span class="o">-</span><span class="mi">8388607</span>,<span class="w"> </span><span class="nv">default</span><span class="w"> </span><span class="mi">8388607</span><span class="ss">)</span>:

<span class="nv">Created</span><span class="w"> </span><span class="nv">a</span><span class="w"> </span><span class="nv">new</span><span class="w"> </span><span class="nv">partition</span><span class="w"> </span><span class="mi">6</span><span class="w"> </span><span class="nv">of</span><span class="w"> </span><span class="nv">type</span><span class="w"> </span><span class="s1">&#39;Linux&#39;</span><span class="w"> </span><span class="nv">and</span><span class="w"> </span><span class="nv">of</span><span class="w"> </span><span class="nv">size</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="nv">GiB</span>.
</code></pre></div>

<p>And now, I have to change the type of the parition 6 to swap:</p>
<div class="highlight"><pre><span></span><code><span class="nv">Command</span><span class="w"> </span><span class="ss">(</span><span class="nv">m</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="nv">help</span><span class="ss">)</span>:<span class="w"> </span><span class="nv">t</span>
<span class="nv">Partition</span><span class="w"> </span><span class="nv">number</span><span class="w"> </span><span class="ss">(</span><span class="mi">1</span>,<span class="mi">2</span>,<span class="mi">5</span>,<span class="mi">6</span>,<span class="w"> </span><span class="nv">default</span><span class="w"> </span><span class="mi">6</span><span class="ss">)</span>:<span class="w"> </span><span class="mi">6</span>
<span class="nv">Hex</span><span class="w"> </span><span class="nv">code</span><span class="w"> </span><span class="nv">or</span><span class="w"> </span><span class="nv">alias</span><span class="w"> </span><span class="ss">(</span><span class="nv">type</span><span class="w"> </span><span class="nv">L</span><span class="w"> </span><span class="nv">to</span><span class="w"> </span><span class="nv">list</span><span class="w"> </span><span class="nv">all</span><span class="ss">)</span>:<span class="w"> </span><span class="nv">L</span>

<span class="mi">00</span><span class="w"> </span><span class="nv">Empty</span><span class="w">            </span><span class="mi">24</span><span class="w"> </span><span class="nv">NEC</span><span class="w"> </span><span class="nv">DOS</span><span class="w">          </span><span class="mi">81</span><span class="w"> </span><span class="nv">Minix</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="nv">old</span><span class="w"> </span><span class="nv">Lin</span><span class="w">  </span><span class="nv">bf</span><span class="w"> </span><span class="nv">Solaris</span>
<span class="mi">01</span><span class="w"> </span><span class="nv">FAT12</span><span class="w">            </span><span class="mi">27</span><span class="w"> </span><span class="nv">Hidden</span><span class="w"> </span><span class="nv">NTFS</span><span class="w"> </span><span class="nv">Win</span><span class="w">  </span><span class="mi">82</span><span class="w"> </span><span class="nv">Linux</span><span class="w"> </span><span class="nv">swap</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="nv">So</span><span class="w">  </span><span class="nv">c1</span><span class="w"> </span><span class="nv">DRDOS</span><span class="o">/</span><span class="nv">sec</span><span class="w"> </span><span class="ss">(</span><span class="nv">FAT</span><span class="o">-</span>
<span class="mi">02</span><span class="w"> </span><span class="nv">XENIX</span><span class="w"> </span><span class="nv">root</span><span class="w">       </span><span class="mi">39</span><span class="w"> </span><span class="nv">Plan</span><span class="w"> </span><span class="mi">9</span><span class="w">           </span><span class="mi">83</span><span class="w"> </span><span class="nv">Linux</span><span class="w">            </span><span class="nv">c4</span><span class="w"> </span><span class="nv">DRDOS</span><span class="o">/</span><span class="nv">sec</span><span class="w"> </span><span class="ss">(</span><span class="nv">FAT</span><span class="o">-</span>
<span class="mi">03</span><span class="w"> </span><span class="nv">XENIX</span><span class="w"> </span><span class="nv">usr</span><span class="w">        </span><span class="mi">3</span><span class="nv">c</span><span class="w"> </span><span class="nv">PartitionMagic</span><span class="w">   </span><span class="mi">84</span><span class="w"> </span><span class="nv">OS</span><span class="o">/</span><span class="mi">2</span><span class="w"> </span><span class="nv">hidden</span><span class="w"> </span><span class="nv">or</span><span class="w">   </span><span class="nv">c6</span><span class="w"> </span><span class="nv">DRDOS</span><span class="o">/</span><span class="nv">sec</span><span class="w"> </span><span class="ss">(</span><span class="nv">FAT</span><span class="o">-</span>
<span class="mi">04</span><span class="w"> </span><span class="nv">FAT16</span><span class="w"> </span><span class="o">&lt;</span><span class="mi">32</span><span class="nv">M</span><span class="w">       </span><span class="mi">40</span><span class="w"> </span><span class="nv">Venix</span><span class="w"> </span><span class="mi">80286</span><span class="w">      </span><span class="mi">85</span><span class="w"> </span><span class="nv">Linux</span><span class="w"> </span><span class="nv">extended</span><span class="w">   </span><span class="nv">c7</span><span class="w"> </span><span class="nv">Syrinx</span>
<span class="mi">05</span><span class="w"> </span><span class="nv">Extended</span><span class="w">         </span><span class="mi">41</span><span class="w"> </span><span class="nv">PPC</span><span class="w"> </span><span class="nv">PReP</span><span class="w"> </span><span class="nv">Boot</span><span class="w">    </span><span class="mi">86</span><span class="w"> </span><span class="nv">NTFS</span><span class="w"> </span><span class="nv">volume</span><span class="w"> </span><span class="nv">set</span><span class="w">  </span><span class="nv">da</span><span class="w"> </span><span class="nv">Non</span><span class="o">-</span><span class="nv">FS</span><span class="w"> </span><span class="nv">data</span>
<span class="mi">06</span><span class="w"> </span><span class="nv">FAT16</span><span class="w">            </span><span class="mi">42</span><span class="w"> </span><span class="nv">SFS</span><span class="w">              </span><span class="mi">87</span><span class="w"> </span><span class="nv">NTFS</span><span class="w"> </span><span class="nv">volume</span><span class="w"> </span><span class="nv">set</span><span class="w">  </span><span class="nv">db</span><span class="w"> </span><span class="nv">CP</span><span class="o">/</span><span class="nv">M</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="nv">CTOS</span><span class="w"> </span><span class="o">/</span><span class="w"> </span>.
<span class="mi">07</span><span class="w"> </span><span class="nv">HPFS</span><span class="o">/</span><span class="nv">NTFS</span><span class="o">/</span><span class="nv">exFAT</span><span class="w">  </span><span class="mi">4</span><span class="nv">d</span><span class="w"> </span><span class="nv">QNX4</span>.<span class="nv">x</span><span class="w">           </span><span class="mi">88</span><span class="w"> </span><span class="nv">Linux</span><span class="w"> </span><span class="nv">plaintext</span><span class="w">  </span><span class="nv">de</span><span class="w"> </span><span class="nv">Dell</span><span class="w"> </span><span class="nv">Utility</span>
<span class="mi">08</span><span class="w"> </span><span class="nv">AIX</span><span class="w">              </span><span class="mi">4</span><span class="nv">e</span><span class="w"> </span><span class="nv">QNX4</span>.<span class="nv">x</span><span class="w"> </span><span class="mi">2</span><span class="nv">nd</span><span class="w"> </span><span class="nv">part</span><span class="w">  </span><span class="mi">8</span><span class="nv">e</span><span class="w"> </span><span class="nv">Linux</span><span class="w"> </span><span class="nv">LVM</span><span class="w">        </span><span class="nv">df</span><span class="w"> </span><span class="nv">BootIt</span>
<span class="mi">09</span><span class="w"> </span><span class="nv">AIX</span><span class="w"> </span><span class="nv">bootable</span><span class="w">     </span><span class="mi">4</span><span class="nv">f</span><span class="w"> </span><span class="nv">QNX4</span>.<span class="nv">x</span><span class="w"> </span><span class="mi">3</span><span class="nv">rd</span><span class="w"> </span><span class="nv">part</span><span class="w">  </span><span class="mi">93</span><span class="w"> </span><span class="nv">Amoeba</span><span class="w">           </span><span class="nv">e1</span><span class="w"> </span><span class="nv">DOS</span><span class="w"> </span><span class="nv">access</span>
<span class="mi">0</span><span class="nv">a</span><span class="w"> </span><span class="nv">OS</span><span class="o">/</span><span class="mi">2</span><span class="w"> </span><span class="nv">Boot</span><span class="w"> </span><span class="nv">Manag</span><span class="w">  </span><span class="mi">50</span><span class="w"> </span><span class="nv">OnTrack</span><span class="w"> </span><span class="nv">DM</span><span class="w">       </span><span class="mi">94</span><span class="w"> </span><span class="nv">Amoeba</span><span class="w"> </span><span class="nv">BBT</span><span class="w">       </span><span class="nv">e3</span><span class="w"> </span><span class="nv">DOS</span><span class="w"> </span><span class="nv">R</span><span class="o">/</span><span class="nv">O</span>
<span class="mi">0</span><span class="nv">b</span><span class="w"> </span><span class="nv">W95</span><span class="w"> </span><span class="nv">FAT32</span><span class="w">        </span><span class="mi">51</span><span class="w"> </span><span class="nv">OnTrack</span><span class="w"> </span><span class="nv">DM6</span><span class="w"> </span><span class="nv">Aux</span><span class="w">  </span><span class="mi">9</span><span class="nv">f</span><span class="w"> </span><span class="nv">BSD</span><span class="o">/</span><span class="nv">OS</span><span class="w">           </span><span class="nv">e4</span><span class="w"> </span><span class="nv">SpeedStor</span>
<span class="mi">0</span><span class="nv">c</span><span class="w"> </span><span class="nv">W95</span><span class="w"> </span><span class="nv">FAT32</span><span class="w"> </span><span class="ss">(</span><span class="nv">LBA</span><span class="ss">)</span><span class="w">  </span><span class="mi">52</span><span class="w"> </span><span class="nv">CP</span><span class="o">/</span><span class="nv">M</span><span class="w">             </span><span class="nv">a0</span><span class="w"> </span><span class="nv">IBM</span><span class="w"> </span><span class="nv">Thinkpad</span><span class="w"> </span><span class="nv">hi</span><span class="w">  </span><span class="nv">ea</span><span class="w"> </span><span class="nv">Linux</span><span class="w"> </span><span class="nv">extended</span>
<span class="mi">0</span><span class="nv">e</span><span class="w"> </span><span class="nv">W95</span><span class="w"> </span><span class="nv">FAT16</span><span class="w"> </span><span class="ss">(</span><span class="nv">LBA</span><span class="ss">)</span><span class="w">  </span><span class="mi">53</span><span class="w"> </span><span class="nv">OnTrack</span><span class="w"> </span><span class="nv">DM6</span><span class="w"> </span><span class="nv">Aux</span><span class="w">  </span><span class="nv">a5</span><span class="w"> </span><span class="nv">FreeBSD</span><span class="w">          </span><span class="nv">eb</span><span class="w"> </span><span class="nv">BeOS</span><span class="w"> </span><span class="nv">fs</span>
<span class="mi">0</span><span class="nv">f</span><span class="w"> </span><span class="nv">W95</span><span class="w"> </span><span class="nv">Ext</span><span class="err">&#39;d (LBA)  54 OnTrackDM6       a6 OpenBSD          ee GPT</span>
<span class="err">10 OPUS             55 EZ-Drive         a7 NeXTSTEP         ef EFI (FAT-12/16/</span>
<span class="err">11 Hidden FAT12     56 Golden Bow       a8 Darwin UFS       f0 Linux/PA-RISC b</span>
<span class="err">12 Compaq diagnost  5c Priam Edisk      a9 NetBSD           f1 SpeedStor</span>
<span class="err">14 Hidden FAT16 &lt;3  61 SpeedStor        ab Darwin boot      f4 SpeedStor</span>
<span class="err">16 Hidden FAT16     63 GNU HURD or Sys  af HFS / HFS+       f2 DOS secondary</span>
<span class="err">17 Hidden HPFS/NTF  64 Novell Netware   b7 BSDI fs          fb VMware VMFS</span>
<span class="err">18 AST SmartSleep   65 Novell Netware   b8 BSDI swap        fc VMware VMKCORE</span>
<span class="err">1b Hidden W95 FAT3  70 DiskSecure Mult  bb Boot Wizard hid  fd Linux raid auto</span>
<span class="err">1c Hidden W95 FAT3  75 PC/IX            bc Acronis FAT32 L  fe LANstep</span>
<span class="err">1e Hidden W95 FAT1  80 Old Minix        be Solaris boot     ff BBT</span>

<span class="err">Aliases:</span>
<span class="err">   linux          - 83</span>
<span class="err">   swap           - 82</span>
<span class="err">   extended       - 05</span>
<span class="err">   uefi           - EF</span>
<span class="err">   raid           - FD</span>
<span class="err">   lvm            - 8E</span>
<span class="err">   linuxex        - 85</span>
<span class="err">Hex code or alias (type L to list all): swap</span>

<span class="nv">Changed</span><span class="w"> </span><span class="nv">type</span><span class="w"> </span><span class="nv">of</span><span class="w"> </span><span class="nv">partition</span><span class="w"> </span><span class="s1">&#39;Linux&#39;</span><span class="w"> </span><span class="nv">to</span><span class="w"> </span><span class="s1">&#39;Linux swap / Solaris&#39;</span>.

<span class="nv">Command</span><span class="w"> </span><span class="ss">(</span><span class="nv">m</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="nv">help</span><span class="ss">)</span>:<span class="w"> </span><span class="nv">p</span>
<span class="nv">Disk</span><span class="w"> </span><span class="o">/</span><span class="nv">dev</span><span class="o">/</span><span class="nv">sda</span>:<span class="w"> </span><span class="mi">4</span><span class="w"> </span><span class="nv">GiB</span>,<span class="w"> </span><span class="mi">4294967296</span><span class="w"> </span><span class="nv">bytes</span>,<span class="w"> </span><span class="mi">8388608</span><span class="w"> </span><span class="nv">sectors</span>
<span class="nv">Disk</span><span class="w"> </span><span class="nv">model</span>:<span class="w"> </span><span class="nv">QEMU</span><span class="w"> </span><span class="nv">HARDDISK</span>
<span class="nv">Units</span>:<span class="w"> </span><span class="nv">sectors</span><span class="w"> </span><span class="nv">of</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mi">512</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">512</span><span class="w"> </span><span class="nv">bytes</span>
<span class="nv">Sector</span><span class="w"> </span><span class="nv">size</span><span class="w"> </span><span class="ss">(</span><span class="nv">logical</span><span class="o">/</span><span class="nv">physical</span><span class="ss">)</span>:<span class="w"> </span><span class="mi">512</span><span class="w"> </span><span class="nv">bytes</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="mi">512</span><span class="w"> </span><span class="nv">bytes</span>
<span class="nv">I</span><span class="o">/</span><span class="nv">O</span><span class="w"> </span><span class="nv">size</span><span class="w"> </span><span class="ss">(</span><span class="nv">minimum</span><span class="o">/</span><span class="nv">optimal</span><span class="ss">)</span>:<span class="w"> </span><span class="mi">512</span><span class="w"> </span><span class="nv">bytes</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="mi">512</span><span class="w"> </span><span class="nv">bytes</span>
<span class="nv">Disklabel</span><span class="w"> </span><span class="nv">type</span>:<span class="w"> </span><span class="nv">dos</span>
<span class="nv">Disk</span><span class="w"> </span><span class="nv">identifier</span>:<span class="w"> </span><span class="mi">0</span><span class="nv">x40bd0f72</span>

<span class="nv">Device</span><span class="w">     </span><span class="nv">Boot</span><span class="w">   </span><span class="nv">Start</span><span class="w">     </span><span class="k">End</span><span class="w"> </span><span class="nv">Sectors</span><span class="w"> </span><span class="nv">Size</span><span class="w"> </span><span class="nv">Id</span><span class="w"> </span><span class="nv">Type</span>
<span class="o">/</span><span class="nv">dev</span><span class="o">/</span><span class="nv">sda1</span><span class="w">          </span><span class="mi">2048</span><span class="w"> </span><span class="mi">2099199</span><span class="w"> </span><span class="mi">2097152</span><span class="w">   </span><span class="mi">1</span><span class="nv">G</span><span class="w"> </span><span class="mi">83</span><span class="w"> </span><span class="nv">Linux</span>
<span class="o">/</span><span class="nv">dev</span><span class="o">/</span><span class="nv">sda2</span><span class="w">       </span><span class="mi">2099200</span><span class="w"> </span><span class="mi">8388607</span><span class="w"> </span><span class="mi">6289408</span><span class="w">   </span><span class="mi">3</span><span class="nv">G</span><span class="w">  </span><span class="mi">5</span><span class="w"> </span><span class="nv">Extended</span>
<span class="o">/</span><span class="nv">dev</span><span class="o">/</span><span class="nv">sda5</span><span class="w">       </span><span class="mi">2101248</span><span class="w"> </span><span class="mi">4198399</span><span class="w"> </span><span class="mi">2097152</span><span class="w">   </span><span class="mi">1</span><span class="nv">G</span><span class="w"> </span><span class="mi">83</span><span class="w"> </span><span class="nv">Linux</span>
<span class="o">/</span><span class="nv">dev</span><span class="o">/</span><span class="nv">sda6</span><span class="w">       </span><span class="mi">4200448</span><span class="w"> </span><span class="mi">8388607</span><span class="w"> </span><span class="mi">4188160</span><span class="w">   </span><span class="mi">2</span><span class="nv">G</span><span class="w"> </span><span class="mi">82</span><span class="w"> </span><span class="nv">Linux</span><span class="w"> </span><span class="nv">swap</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="nv">Solaris</span>
</code></pre></div>

<p>Satisfied! Let's <code>v</code>erify and then <code>w</code>rite the results:</p>
<div class="highlight"><pre><span></span><code><span class="n">Command</span><span class="w"> </span><span class="p">(</span><span class="n">m</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">help</span><span class="p">)</span><span class="err">:</span><span class="w"> </span><span class="n">v</span>
<span class="k">No</span><span class="w"> </span><span class="n">errors</span><span class="w"> </span><span class="n">detected</span><span class="p">.</span>
<span class="n">Remaining</span><span class="w"> </span><span class="mi">4094</span><span class="w"> </span><span class="n">unallocated</span><span class="w"> </span><span class="mi">512</span><span class="o">-</span><span class="n">byte</span><span class="w"> </span><span class="n">sectors</span><span class="p">.</span>

<span class="n">Command</span><span class="w"> </span><span class="p">(</span><span class="n">m</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">help</span><span class="p">)</span><span class="err">:</span><span class="w"> </span><span class="n">w</span>
<span class="n">The</span><span class="w"> </span><span class="k">partition</span><span class="w"> </span><span class="nc">table</span><span class="w"> </span><span class="n">has</span><span class="w"> </span><span class="n">been</span><span class="w"> </span><span class="n">altered</span><span class="p">.</span>
<span class="n">Calling</span><span class="w"> </span><span class="n">ioctl</span><span class="p">()</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="n">re</span><span class="o">-</span><span class="k">read</span><span class="w"> </span><span class="k">partition</span><span class="w"> </span><span class="nc">table</span><span class="p">.</span>
<span class="n">Syncing</span><span class="w"> </span><span class="n">disks</span><span class="p">.</span>

<span class="n">root</span><span class="nv">@debianamd</span><span class="err">:</span><span class="o">~</span><span class="err">#</span><span class="w"> </span><span class="n">fdisk</span><span class="w"> </span><span class="o">-</span><span class="n">l</span><span class="w"> </span><span class="o">/</span><span class="n">dev</span><span class="o">/</span><span class="n">sda</span>
<span class="k">Disk</span><span class="w"> </span><span class="o">/</span><span class="n">dev</span><span class="o">/</span><span class="nl">sda</span><span class="p">:</span><span class="w"> </span><span class="mi">4</span><span class="w"> </span><span class="n">GiB</span><span class="p">,</span><span class="w"> </span><span class="mi">4294967296</span><span class="w"> </span><span class="n">bytes</span><span class="p">,</span><span class="w"> </span><span class="mi">8388608</span><span class="w"> </span><span class="n">sectors</span>
<span class="k">Disk</span><span class="w"> </span><span class="nl">model</span><span class="p">:</span><span class="w"> </span><span class="n">QEMU</span><span class="w"> </span><span class="n">HARDDISK</span>
<span class="nl">Units</span><span class="p">:</span><span class="w"> </span><span class="n">sectors</span><span class="w"> </span><span class="k">of</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mi">512</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">512</span><span class="w"> </span><span class="n">bytes</span>
<span class="n">Sector</span><span class="w"> </span><span class="k">size</span><span class="w"> </span><span class="p">(</span><span class="n">logical</span><span class="o">/</span><span class="n">physical</span><span class="p">)</span><span class="err">:</span><span class="w"> </span><span class="mi">512</span><span class="w"> </span><span class="n">bytes</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="mi">512</span><span class="w"> </span><span class="n">bytes</span>
<span class="n">I</span><span class="o">/</span><span class="n">O</span><span class="w"> </span><span class="k">size</span><span class="w"> </span><span class="p">(</span><span class="n">minimum</span><span class="o">/</span><span class="n">optimal</span><span class="p">)</span><span class="err">:</span><span class="w"> </span><span class="mi">512</span><span class="w"> </span><span class="n">bytes</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="mi">512</span><span class="w"> </span><span class="n">bytes</span>
<span class="n">Disklabel</span><span class="w"> </span><span class="nl">type</span><span class="p">:</span><span class="w"> </span><span class="n">dos</span>
<span class="k">Disk</span><span class="w"> </span><span class="nl">identifier</span><span class="p">:</span><span class="w"> </span><span class="mh">0x40bd0f72</span>

<span class="n">Device</span><span class="w">     </span><span class="n">Boot</span><span class="w">   </span><span class="k">Start</span><span class="w">     </span><span class="k">End</span><span class="w"> </span><span class="n">Sectors</span><span class="w"> </span><span class="k">Size</span><span class="w"> </span><span class="n">Id</span><span class="w"> </span><span class="n">Type</span>
<span class="o">/</span><span class="n">dev</span><span class="o">/</span><span class="n">sda1</span><span class="w">          </span><span class="mi">2048</span><span class="w"> </span><span class="mi">2099199</span><span class="w"> </span><span class="mi">2097152</span><span class="w">   </span><span class="mi">1</span><span class="n">G</span><span class="w"> </span><span class="mi">83</span><span class="w"> </span><span class="n">Linux</span>
<span class="o">/</span><span class="n">dev</span><span class="o">/</span><span class="n">sda2</span><span class="w">       </span><span class="mi">2099200</span><span class="w"> </span><span class="mi">8388607</span><span class="w"> </span><span class="mi">6289408</span><span class="w">   </span><span class="mi">3</span><span class="n">G</span><span class="w">  </span><span class="mi">5</span><span class="w"> </span><span class="n">Extended</span>
<span class="o">/</span><span class="n">dev</span><span class="o">/</span><span class="n">sda5</span><span class="w">       </span><span class="mi">2101248</span><span class="w"> </span><span class="mi">4198399</span><span class="w"> </span><span class="mi">2097152</span><span class="w">   </span><span class="mi">1</span><span class="n">G</span><span class="w"> </span><span class="mi">83</span><span class="w"> </span><span class="n">Linux</span>
<span class="o">/</span><span class="n">dev</span><span class="o">/</span><span class="n">sda6</span><span class="w">       </span><span class="mi">4200448</span><span class="w"> </span><span class="mi">8388607</span><span class="w"> </span><span class="mi">4188160</span><span class="w">   </span><span class="mi">2</span><span class="n">G</span><span class="w"> </span><span class="mi">82</span><span class="w"> </span><span class="n">Linux</span><span class="w"> </span><span class="n">swap</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="n">Solaris</span>
</code></pre></div>

<h4>gdisk</h4>
<p>As seen on <a href="/1021-design-hard-disk-layout.html">chapter 102.1</a>, we have used <code>gdisk</code> on GPT machines. Its not that different from <code>fdisk</code>. Lets have a look at its main commands:</p>
<div class="highlight"><pre><span></span><code><span class="n">root</span><span class="nv">@debianamd</span><span class="err">:</span><span class="o">~</span><span class="err">#</span><span class="w"> </span><span class="n">gdisk</span><span class="w"> </span><span class="o">/</span><span class="n">dev</span><span class="o">/</span><span class="n">sda</span>
<span class="n">GPT</span><span class="w"> </span><span class="n">fdisk</span><span class="w"> </span><span class="p">(</span><span class="n">gdisk</span><span class="p">)</span><span class="w"> </span><span class="n">version</span><span class="w"> </span><span class="mf">1.0.6</span><span class="w">  </span>

<span class="nl">Warning</span><span class="p">:</span><span class="w"> </span><span class="k">Partition</span><span class="w"> </span><span class="nc">table</span><span class="w"> </span><span class="n">header</span><span class="w"> </span><span class="n">claims</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="k">size</span><span class="w"> </span><span class="k">of</span><span class="w"> </span><span class="k">partition</span><span class="w"> </span><span class="nc">table</span>
<span class="n">entries</span><span class="w"> </span><span class="k">is</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="n">bytes</span><span class="p">,</span><span class="w"> </span><span class="n">but</span><span class="w"> </span><span class="n">this</span><span class="w"> </span><span class="n">program</span><span class="w">  </span><span class="n">supports</span><span class="w"> </span><span class="k">only</span><span class="w"> </span><span class="mi">128</span><span class="o">-</span><span class="n">byte</span><span class="w"> </span><span class="n">entries</span><span class="p">.</span>
<span class="n">Adjusting</span><span class="w"> </span><span class="n">accordingly</span><span class="p">,</span><span class="w"> </span><span class="n">but</span><span class="w"> </span><span class="k">partition</span><span class="w"> </span><span class="nc">table</span><span class="w"> </span><span class="n">may</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">garbage</span><span class="p">.</span>
<span class="nl">Warning</span><span class="p">:</span><span class="w"> </span><span class="k">Partition</span><span class="w"> </span><span class="nc">table</span><span class="w"> </span><span class="n">header</span><span class="w"> </span><span class="n">claims</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="k">size</span><span class="w"> </span><span class="k">of</span><span class="w"> </span><span class="k">partition</span><span class="w"> </span><span class="nc">table</span>
<span class="n">entries</span><span class="w"> </span><span class="k">is</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="n">bytes</span><span class="p">,</span><span class="w"> </span><span class="n">but</span><span class="w"> </span><span class="n">this</span><span class="w"> </span><span class="n">program</span><span class="w">  </span><span class="n">supports</span><span class="w"> </span><span class="k">only</span><span class="w"> </span><span class="mi">128</span><span class="o">-</span><span class="n">byte</span><span class="w"> </span><span class="n">entries</span><span class="p">.</span>
<span class="n">Adjusting</span><span class="w"> </span><span class="n">accordingly</span><span class="p">,</span><span class="w"> </span><span class="n">but</span><span class="w"> </span><span class="k">partition</span><span class="w"> </span><span class="nc">table</span><span class="w"> </span><span class="n">may</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">garbage</span><span class="p">.</span>
<span class="k">Partition</span><span class="w"> </span><span class="nc">table</span><span class="w"> </span><span class="nl">scan</span><span class="p">:</span>
<span class="w">  </span><span class="nl">MBR</span><span class="p">:</span><span class="w"> </span><span class="n">MBR</span><span class="w"> </span><span class="k">only</span>
<span class="w">  </span><span class="nl">BSD</span><span class="p">:</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="n">present</span>
<span class="w">  </span><span class="nl">APM</span><span class="p">:</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="n">present</span>
<span class="w">  </span><span class="nl">GPT</span><span class="p">:</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="n">present</span>


<span class="o">***************************************************************</span>
<span class="k">Found</span><span class="w"> </span><span class="n">invalid</span><span class="w"> </span><span class="n">GPT</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">valid</span><span class="w"> </span><span class="n">MBR</span><span class="p">;</span><span class="w"> </span><span class="n">converting</span><span class="w"> </span><span class="n">MBR</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="n">GPT</span><span class="w"> </span><span class="nf">format</span>
<span class="ow">in</span><span class="w"> </span><span class="n">memory</span><span class="p">.</span><span class="w"> </span><span class="n">THIS</span><span class="w"> </span><span class="k">OPERATION</span><span class="w"> </span><span class="k">IS</span><span class="w"> </span><span class="n">POTENTIALLY</span><span class="w"> </span><span class="n">DESTRUCTIVE</span><span class="err">!</span><span class="w"> </span><span class="k">Exit</span><span class="w"> </span><span class="k">by</span>
<span class="n">typing</span><span class="w"> </span><span class="s1">&#39;q&#39;</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="n">you</span><span class="w"> </span><span class="n">don</span><span class="s1">&#39;t want to convert your MBR partitions</span>
<span class="s1">to GPT format!</span>
<span class="s1">***************************************************************</span>

<span class="s1">Command (? for help): ?</span>
<span class="s1">b   back up GPT data to a file</span>
<span class="s1">c   change a partition&#39;</span><span class="n">s</span><span class="w"> </span><span class="n">name</span>
<span class="n">d</span><span class="w">   </span><span class="k">delete</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="k">partition</span>
<span class="n">i</span><span class="w">   </span><span class="n">show</span><span class="w"> </span><span class="n">detailed</span><span class="w"> </span><span class="n">information</span><span class="w"> </span><span class="k">on</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="k">partition</span>
<span class="n">l</span><span class="w">   </span><span class="n">list</span><span class="w"> </span><span class="n">known</span><span class="w"> </span><span class="k">partition</span><span class="w"> </span><span class="n">types</span>
<span class="n">n</span><span class="w">   </span><span class="k">add</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="k">partition</span>
<span class="n">o</span><span class="w">   </span><span class="k">create</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">empty</span><span class="w"> </span><span class="n">GUID</span><span class="w"> </span><span class="k">partition</span><span class="w"> </span><span class="nc">table</span><span class="w"> </span><span class="p">(</span><span class="n">GPT</span><span class="p">)</span>
<span class="n">p</span><span class="w">   </span><span class="k">print</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="k">partition</span><span class="w"> </span><span class="nc">table</span>
<span class="n">q</span><span class="w">   </span><span class="n">quit</span><span class="w"> </span><span class="k">without</span><span class="w"> </span><span class="n">saving</span><span class="w"> </span><span class="n">changes</span>
<span class="n">r</span><span class="w">   </span><span class="n">recovery</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">transformation</span><span class="w"> </span><span class="n">options</span><span class="w"> </span><span class="p">(</span><span class="n">experts</span><span class="w"> </span><span class="k">only</span><span class="p">)</span>
<span class="n">s</span><span class="w">   </span><span class="n">sort</span><span class="w"> </span><span class="n">partitions</span>
<span class="n">t</span><span class="w">   </span><span class="n">change</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="k">partition</span><span class="err">&#39;</span><span class="n">s</span><span class="w"> </span><span class="n">type</span><span class="w"> </span><span class="n">code</span>
<span class="n">v</span><span class="w">   </span><span class="n">verify</span><span class="w"> </span><span class="k">disk</span>
<span class="n">w</span><span class="w">   </span><span class="k">write</span><span class="w"> </span><span class="nc">table</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="k">disk</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="k">exit</span>
<span class="n">x</span><span class="w">   </span><span class="n">extra</span><span class="w"> </span><span class="n">functionality</span><span class="w"> </span><span class="p">(</span><span class="n">experts</span><span class="w"> </span><span class="k">only</span><span class="p">)</span>
<span class="vm">?</span><span class="w">   </span><span class="k">print</span><span class="w"> </span><span class="n">this</span><span class="w"> </span><span class="n">menu</span>
</code></pre></div>

<p>As you can see, the partition table have to be compatible with your BIOS/UEFI setup. </p>
<h4>parted</h4>
<p><code>parted</code> is the GNU tool to edit partitions. Its main advantage is the ability to resize currently defined partitions but using it is a bit trickier than <code>fdisk</code> and <code>gdisk</code>:</p>
<div class="highlight"><pre><span></span><code><span class="err">#</span><span class="w"> </span><span class="n">parted</span>
<span class="n">GNU</span><span class="w"> </span><span class="n">Parted</span><span class="w"> </span><span class="mf">3.4</span>
<span class="k">Using</span><span class="w"> </span><span class="o">/</span><span class="n">dev</span><span class="o">/</span><span class="n">sda</span>
<span class="n">Welcome</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="n">GNU</span><span class="w"> </span><span class="n">Parted</span><span class="err">!</span><span class="w"> </span><span class="n">Type</span><span class="w"> </span><span class="s1">&#39;help&#39;</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="k">view</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">list</span><span class="w"> </span><span class="k">of</span><span class="w"> </span><span class="n">commands</span><span class="p">.</span>
<span class="p">(</span><span class="n">parted</span><span class="p">)</span><span class="w"> </span><span class="n">help</span>
<span class="w">  </span><span class="n">align</span><span class="o">-</span><span class="k">check</span><span class="w"> </span><span class="n">TYPE</span><span class="w"> </span><span class="n">N</span><span class="w">                       </span><span class="k">check</span><span class="w"> </span><span class="k">partition</span><span class="w"> </span><span class="n">N</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">TYPE</span><span class="p">(</span><span class="nf">min</span><span class="o">|</span><span class="n">opt</span><span class="p">)</span><span class="w"> </span><span class="n">alignment</span>
<span class="w">  </span><span class="n">help</span><span class="w"> </span><span class="o">[</span><span class="n">COMMAND</span><span class="o">]</span><span class="w">                           </span><span class="k">print</span><span class="w"> </span><span class="k">general</span><span class="w"> </span><span class="n">help</span><span class="p">,</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="n">help</span><span class="w"> </span><span class="k">on</span><span class="w"> </span><span class="n">COMMAND</span>
<span class="w">  </span><span class="n">mklabel</span><span class="p">,</span><span class="n">mktable</span><span class="w"> </span><span class="n">LABEL</span><span class="o">-</span><span class="n">TYPE</span><span class="w">               </span><span class="k">create</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">disklabel</span><span class="w"> </span><span class="p">(</span><span class="k">partition</span><span class="w"> </span><span class="nc">table</span><span class="p">)</span>
<span class="w">  </span><span class="n">mkpart</span><span class="w"> </span><span class="n">PART</span><span class="o">-</span><span class="n">TYPE</span><span class="w"> </span><span class="o">[</span><span class="n">FS-TYPE</span><span class="o">]</span><span class="w"> </span><span class="k">START</span><span class="w"> </span><span class="k">END</span><span class="w">     </span><span class="n">make</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="k">partition</span>
<span class="w">  </span><span class="n">name</span><span class="w"> </span><span class="n">NUMBER</span><span class="w"> </span><span class="n">NAME</span><span class="w">                         </span><span class="n">name</span><span class="w"> </span><span class="k">partition</span><span class="w"> </span><span class="n">NUMBER</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">NAME</span>
<span class="w">  </span><span class="k">print</span><span class="w"> </span><span class="o">[</span><span class="n">devices|free|list,all|NUMBER</span><span class="o">]</span><span class="w">     </span><span class="n">display</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="k">partition</span><span class="w"> </span><span class="nc">table</span><span class="p">,</span><span class="w"> </span><span class="n">available</span><span class="w"> </span><span class="n">devices</span><span class="p">,</span><span class="w"> </span><span class="k">free</span><span class="w"> </span><span class="nf">space</span><span class="p">,</span><span class="w"> </span><span class="ow">all</span><span class="w"> </span><span class="k">found</span><span class="w"> </span><span class="n">partitions</span><span class="p">,</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">particular</span><span class="w"> </span><span class="k">partition</span>
<span class="w">  </span><span class="n">quit</span><span class="w">                                     </span><span class="k">exit</span><span class="w"> </span><span class="n">program</span>
<span class="w">  </span><span class="n">rescue</span><span class="w"> </span><span class="k">START</span><span class="w"> </span><span class="k">END</span><span class="w">                         </span><span class="n">rescue</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">lost</span><span class="w"> </span><span class="k">partition</span><span class="w"> </span><span class="n">near</span><span class="w"> </span><span class="k">START</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="k">END</span>
<span class="w">  </span><span class="n">resizepart</span><span class="w"> </span><span class="n">NUMBER</span><span class="w"> </span><span class="k">END</span><span class="w">                    </span><span class="n">resize</span><span class="w"> </span><span class="k">partition</span><span class="w"> </span><span class="n">NUMBER</span>
<span class="w">  </span><span class="n">rm</span><span class="w"> </span><span class="n">NUMBER</span><span class="w">                                </span><span class="k">delete</span><span class="w"> </span><span class="k">partition</span><span class="w"> </span><span class="n">NUMBER</span>
<span class="w">  </span><span class="k">select</span><span class="w"> </span><span class="n">DEVICE</span><span class="w">                            </span><span class="nf">choose</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">device</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="n">edit</span>
<span class="w">  </span><span class="n">disk_set</span><span class="w"> </span><span class="n">FLAG</span><span class="w"> </span><span class="k">STATE</span><span class="w">                      </span><span class="n">change</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">FLAG</span><span class="w"> </span><span class="k">on</span><span class="w"> </span><span class="n">selected</span><span class="w"> </span><span class="n">device</span>
<span class="w">  </span><span class="n">disk_toggle</span><span class="w"> </span><span class="o">[</span><span class="n">FLAG</span><span class="o">]</span><span class="w">                       </span><span class="n">toggle</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="k">state</span><span class="w"> </span><span class="k">of</span><span class="w"> </span><span class="n">FLAG</span><span class="w"> </span><span class="k">on</span><span class="w"> </span><span class="n">selected</span><span class="w"> </span><span class="n">device</span>
<span class="w">  </span><span class="k">set</span><span class="w"> </span><span class="n">NUMBER</span><span class="w"> </span><span class="n">FLAG</span><span class="w"> </span><span class="k">STATE</span><span class="w">                    </span><span class="n">change</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">FLAG</span><span class="w"> </span><span class="k">on</span><span class="w"> </span><span class="k">partition</span><span class="w"> </span><span class="n">NUMBER</span>
<span class="w">  </span><span class="n">toggle</span><span class="w"> </span><span class="o">[</span><span class="n">NUMBER [FLAG</span><span class="o">]</span><span class="err">]</span><span class="w">                   </span><span class="n">toggle</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="k">state</span><span class="w"> </span><span class="k">of</span><span class="w"> </span><span class="n">FLAG</span><span class="w"> </span><span class="k">on</span><span class="w"> </span><span class="k">partition</span><span class="w"> </span><span class="n">NUMBER</span>
<span class="w">  </span><span class="n">unit</span><span class="w"> </span><span class="n">UNIT</span><span class="w">                                </span><span class="k">set</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="k">default</span><span class="w"> </span><span class="n">unit</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="n">UNIT</span>
<span class="w">  </span><span class="n">version</span><span class="w">                                  </span><span class="n">display</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">version</span><span class="w"> </span><span class="n">number</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">copyright</span><span class="w"> </span><span class="n">information</span><span class="w"> </span><span class="k">of</span><span class="w"> </span><span class="n">GNU</span><span class="w"> </span><span class="n">Parted</span>
</code></pre></div>

<h4>hint? use gparted</h4>
<p>The <code>gparted</code> tool is a graphical tool to manage your partitioned. It has the ability to resize partitions and is super easy to use. Its not part of the LPIC exam but its good to know about it. just in case ;) <a href="https://gparted.org/">gparted.org</a></p>
<h3>Formatting the partition</h3>
<iframe width="560" height="315" src="https://www.youtube.com/embed/rQZVYtVOEhU" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe>

<h4>Filesystems</h4>
<p>After you partitioned your block devices, you have to format them to make them usable to store files and directories. Formatting a file system, creates a map which stores the location and name of files and directories and make it possible to move files between folders, deleting them or renaming them; think of it as the index of a book. </p>
<p>There are several filesystems in the linux world but, these are the most commonly used ones:</p>
<table>
<thead>
<tr>
<th style="text-align: center;">Format</th>
<th style="text-align: left;">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: center;">ext2</td>
<td style="text-align: left;">second extended filesystem was developed to address shortcomings in the older Unix/Minix filesystem used in early versions of Linux. It has been used extensively on Linux for many years. There is no journaling in ext2, and it has largely been replaced by ext3 and more recently ext4.</td>
</tr>
<tr>
<td style="text-align: center;">ext3</td>
<td style="text-align: left;">ext2 + journaling, max file size is 2TB and max filesystem size is 16TB</td>
</tr>
<tr>
<td style="text-align: center;">ext4</td>
<td style="text-align: left;">current version of ext, max file size is 16TB and max filesystem size is 1EB (1000*1000TB)</td>
</tr>
<tr>
<td style="text-align: center;">XFS</td>
<td style="text-align: left;">journaling, caches to RAM, great for uninterruptible power supplies, Max file and filesystem size is 8EB</td>
</tr>
<tr>
<td style="text-align: center;">swap</td>
<td style="text-align: left;">Swap is used when the system needs to use more ram than what is has. It's like an extra ram on disk</td>
</tr>
<tr>
<td style="text-align: center;">VFAT</td>
<td style="text-align: left;">FAT32, no journaling, good for data exchange with windows, does not understand <strong>permissions</strong> and symbolic links</td>
</tr>
<tr>
<td style="text-align: center;">exFAT</td>
<td style="text-align: left;">Extended FAT. A newer version of FAT which is used mainly for extended device which should work on all machines; like USB disks</td>
</tr>
<tr>
<td style="text-align: center;">btrfs</td>
<td style="text-align: left;">A new high performance file system. Max file and filesize is 16 EB. Has its own form of RAID and LVM and build-in snapshots and fault tolerance and data compression on the fly.</td>
</tr>
</tbody>
</table>
<h4>Creating filesystems</h4>
<p>You can format your partitions with <code>mkfs</code> command (and <code>mkswap</code> for swap). This is a front end to commands like <code>mkfs.ext3</code> for <em>ext3</em>, <code>mkfs.ext4</code> for <em>ext4</em> and <code>mkfs.reiserfs</code> for <em>ReiserFS</em>. full list of installed on your system is here:</p>
<div class="highlight"><pre><span></span><code># ls /sbin/mk*
/sbin/mkdosfs  /sbin/mkexfatfs  /sbin/mkfs.bfs     /sbin/mkfs.exfat  /sbin/mkfs.ext3  /sbin/mkfs.fat    /sbin/mkfs.msdos  /sbin/mkfs.vfat     /sbin/mkinitramfs   /sbin/mkntfs
/sbin/mke2fs   /sbin/mkfs   /sbin/mkfs.cramfs  /sbin/mkfs.ext2   /sbin/mkfs.ext4  /sbin/mkfs.minix  /sbin/mkfs.ntfs   /sbin/mkhomedir_helper  /sbin/mklost+found  /sbin/mkswap
</code></pre></div>

<p>If using the <code>mkfs</code>, the main switch is <code>-type</code> (or <code>-t</code>) to specify the format:</p>
<div class="highlight"><pre><span></span><code><span class="err">#</span><span class="w"> </span><span class="n">mkfs</span><span class="w"> </span><span class="o">-</span><span class="n">t</span><span class="w"> </span><span class="n">ext4</span><span class="w"> </span><span class="o">/</span><span class="n">dev</span><span class="o">/</span><span class="n">sda1</span>
<span class="n">mke2fs</span><span class="w"> </span><span class="mf">1.46.2</span><span class="w"> </span><span class="p">(</span><span class="mi">28</span><span class="o">-</span><span class="n">Feb</span><span class="o">-</span><span class="mi">2021</span><span class="p">)</span>
<span class="n">Discarding</span><span class="w"> </span><span class="n">device</span><span class="w"> </span><span class="nl">blocks</span><span class="p">:</span><span class="w"> </span><span class="n">done</span>
<span class="n">Creating</span><span class="w"> </span><span class="n">filesystem</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="mi">262144</span><span class="w"> </span><span class="mi">4</span><span class="n">k</span><span class="w"> </span><span class="n">blocks</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="mi">65536</span><span class="w"> </span><span class="n">inodes</span>
<span class="n">Filesystem</span><span class="w"> </span><span class="nl">UUID</span><span class="p">:</span><span class="w"> </span><span class="mi">63625</span><span class="n">ecd</span><span class="o">-</span><span class="mi">857</span><span class="n">a</span><span class="o">-</span><span class="mi">419</span><span class="n">f</span><span class="o">-</span><span class="n">a300</span><span class="o">-</span><span class="mi">12395</span><span class="n">aaad89f</span>
<span class="n">Superblock</span><span class="w"> </span><span class="n">backups</span><span class="w"> </span><span class="n">stored</span><span class="w"> </span><span class="k">on</span><span class="w"> </span><span class="nl">blocks</span><span class="p">:</span>
<span class="w">    </span><span class="mi">32768</span><span class="p">,</span><span class="w"> </span><span class="mi">98304</span><span class="p">,</span><span class="w"> </span><span class="mi">163840</span><span class="p">,</span><span class="w"> </span><span class="mi">229376</span>

<span class="n">Allocating</span><span class="w"> </span><span class="k">group</span><span class="w"> </span><span class="nl">tables</span><span class="p">:</span><span class="w"> </span><span class="n">done</span>
<span class="n">Writing</span><span class="w"> </span><span class="n">inode</span><span class="w"> </span><span class="nl">tables</span><span class="p">:</span><span class="w"> </span><span class="n">done</span>
<span class="n">Creating</span><span class="w"> </span><span class="n">journal</span><span class="w"> </span><span class="p">(</span><span class="mi">8192</span><span class="w"> </span><span class="n">blocks</span><span class="p">)</span><span class="err">:</span><span class="w"> </span><span class="n">done</span>
<span class="n">Writing</span><span class="w"> </span><span class="n">superblocks</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">filesystem</span><span class="w"> </span><span class="n">accounting</span><span class="w"> </span><span class="nl">information</span><span class="p">:</span><span class="w"> </span><span class="n">done</span>

<span class="n">root</span><span class="nv">@debianamd</span><span class="err">:</span><span class="o">~</span><span class="err">#</span><span class="w"> </span><span class="n">mkfs</span><span class="p">.</span><span class="n">exfat</span><span class="w"> </span><span class="o">/</span><span class="n">dev</span><span class="o">/</span><span class="n">sda5</span>
<span class="n">mkexfatfs</span><span class="w"> </span><span class="mf">1.3.0</span>
<span class="n">Creating</span><span class="p">...</span><span class="w"> </span><span class="n">done</span><span class="p">.</span>
<span class="n">Flushing</span><span class="p">...</span><span class="w"> </span><span class="n">done</span><span class="p">.</span>
<span class="k">File</span><span class="w"> </span><span class="k">system</span><span class="w"> </span><span class="n">created</span><span class="w"> </span><span class="n">successfully</span><span class="p">.</span>
</code></pre></div>

<p>If you need to assign a lable to the partition, you have to use the <code>-L lable_name</code> option. Please note that in recent system, people use UUIDs instead of labels. UUID of a disk can be viewed with:</p>
<div class="highlight"><pre><span></span><code># blkid /dev/sda1
/dev/sda1: UUID=&quot;63625ecd-857a-419f-a300-12395aaad89f&quot; BLOCK_SIZE=&quot;4096&quot; TYPE=&quot;ext4&quot; PARTUUID=&quot;40bd0f72-01&quot;
</code></pre></div>

<p>and as the last task, lets create a swap on <code>/dev/sda6</code>:</p>
<div class="highlight"><pre><span></span><code># mkswap /dev/sda6
Setting up swapspace version 1, size = 2 GiB (2144333824 bytes)
no label, UUID=6a59cf20-8fd6-4d86-b044-89f7bc67993b
</code></pre></div>

<p>and then </p>
<div class="highlight"><pre><span></span><code># swapon /dev/sda6
</code></pre></div>

<p>On chapter 14.3 we will see how we can <em>mount</em> / <em>unmount</em> these filesystems.</p>


             
 
            
            
            







            <hr/>

            <!-- show next and previous links -->
            <table style="background: white; border: 0; font-size: 0.8em;"><tr>
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                <td style="background: white; border: 0;">
                            <a href="./1038-basic-file-editing.html">â 103.8 Basic file editing</a>
                </td>
                <td style="background: white; border: 0;"><center ><a href="/archives.html">Chapter List</a></center></td>
                <td style="background: white; border: 0; text-align: right;">
                            <a href="./1042-maintain-the-integrity-of-filesystems.html">104.2 Maintain the integrity of filesystems â</a>
                </td>
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
            </tr></table>
            
            <hr />


	<div class=comment>

<div id="disqus_thread"></div>
<script>
    (function() { // DON'T EDIT BELOW THIS LINE
    var d = document, s = d.createElement('script');
    s.src = 'https://linux1st.disqus.com/embed.js';
    s.setAttribute('data-timestamp', +new Date());
    (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>


	</div>
        </div>
        <section id="article-sidebar" class="span2">
            <h4>Category</h4>
            <a class="category-link" href="./categories.html#lpic1-ref">LPIC1</a>
            <h4>Tags</h4>
            <ul class="list-of-tags tags-in-article">
                <li><a href="./tags.html#101-ref">101
                    <span class="superscript">19</span>
</a></li>
                <li><a href="./tags.html#lpic1-ref">LPIC1
                    <span class="superscript">42</span>
</a></li>
                <li><a href="./tags.html#lpic1-101-500-ref">LPIC1-101-500
                    <span class="superscript">22</span>
</a></li>
            </ul>
<h4>Contact</h4>
<div id="sidebar-social-link">
</div>
            





            





        </section>
</div>
</article>
<!-- Root element of PhotoSwipe. Must have class pswp. -->
<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

    <!-- Background of PhotoSwipe.
         It's a separate element as animating opacity is faster than rgba(). -->
    <div class="pswp__bg"></div>

    <!-- Slides wrapper with overflow:hidden. -->
    <div class="pswp__scroll-wrap">

        <!-- Container that holds slides.
            PhotoSwipe keeps only 3 of them in the DOM to save memory.
            Don't modify these 3 pswp__item elements, data is added later on. -->
        <div class="pswp__container">
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
        </div>

        <!-- Default (PhotoSwipeUI_Default) interface on top of sliding area. Can be changed. -->
        <div class="pswp__ui pswp__ui--hidden">

            <div class="pswp__top-bar">

                <!--  Controls are self-explanatory. Order can be changed. -->

                <div class="pswp__counter"></div>

                <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>

                <button class="pswp__button pswp__button--share" title="Share"></button>

                <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>

                <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>

                <!-- Preloader demo https://codepen.io/dimsemenov/pen/yyBWoR -->
                <!-- element will get class pswp__preloader--active when preloader is running -->
                <div class="pswp__preloader">
                    <div class="pswp__preloader__icn">
                      <div class="pswp__preloader__cut">
                        <div class="pswp__preloader__donut"></div>
                      </div>
                    </div>
                </div>
            </div>

            <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
                <div class="pswp__share-tooltip"></div>
            </div>

            <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
            </button>

            <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
            </button>

            <div class="pswp__caption">
                <div class="pswp__caption__center"></div>
            </div>

        </div>

    </div>

</div>                    </div>
                    <div class="span1"></div>
                </div>
            </div>
        </div>
<footer>




    <div id="fpowered">
        Powered by: <a href="http://getpelican.com/" title="Pelican Home Page" target="_blank" rel="nofollow noopener noreferrer">Pelican</a>
        Theme: <a href="https://elegant.oncrashreboot.com/" title="Theme Elegant Home Page" target="_blank" rel="nofollow noopener noreferrer">Elegant</a>
    </div>
</footer>            <script src="//code.jquery.com/jquery.min.js"></script>
        <script src="//netdna.bootstrapcdn.com/twitter-bootstrap/2.3.2/js/bootstrap.min.js"></script>
        <script src="./theme/js/elegant.prod.9e9d5ce754.js"></script>
        <script>
            function validateForm(query)
            {
                return (query.length > 0);
            }
        </script>

    <script>
    (function () {
        if (window.location.hash.match(/^#comment-\d+$/)) {
            $('#comment_thread').collapse('show');
        }
    })();
    window.onhashchange=function(){
        if (window.location.hash.match(/^#comment-\d+$/))
            window.location.reload(true);
    }
    $('#comment_thread').on('shown', function () {
        var link = document.getElementById('comment-accordion-toggle');
        var old_innerHTML = link.innerHTML;
        $(link).fadeOut(200, function() {
            $(this).text('Click here to hide comments').fadeIn(200);
        });
        $('#comment_thread').on('hidden', function () {
            $(link).fadeOut(200, function() {
                $(this).text(old_innerHTML).fadeIn(200);
            });
        })
    })
</script>

    </body>
    <!-- Theme: Elegant built for Pelican
        License : MIT -->
</html>