<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link rel="stylesheet" type="text/css" href="./theme/css/elegant.prod.9e9d5ce754.css" media="screen">
        <link rel="stylesheet" type="text/css" href="./theme/css/custom.css" media="screen">

        <link rel="dns-prefetch" href="//fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com/" crossorigin>

        <meta name="author" content="Jadi" />

        <meta property="og:type" content="article" />
        <meta name="twitter:card" content="summary">

<meta name="keywords" content="LPIC1, 101, LPIC1-101-500, LPIC1, " />

<meta property="og:title" content="102.4 Use Debian package management "/>
<meta property="og:url" content="./1024-use-debian-package-management.html" />
<meta property="og:description" content="Candidates should be able to perform package management using the Debian package tools." />
<meta property="og:site_name" content="lpic1book" />
<meta property="og:article:author" content="Jadi" />
<meta property="og:article:published_time" content="2010-12-03T10:20:00+01:00" />
<meta name="twitter:title" content="102.4 Use Debian package management ">
<meta name="twitter:description" content="Candidates should be able to perform package management using the Debian package tools.">

        <title>102.4 Use Debian package management  · lpic1book
</title>



        
        <!-- Global site tag (gtag.js) - Google Analytics -->
        <script async src="https://www.googletagmanager.com/gtag/js?id=G-4CZV14VZXW"></script>
        <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'G-4CZV14VZXW');
        </script>
        
    </head>
    <body>
        <div id="content">
            <div class="navbar navbar-static-top">
                <div class="navbar-inner">
                    <div class="container-fluid">
                        <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                            <span class="icon-bar"></span>
                            <span class="icon-bar"></span>
                            <span class="icon-bar"></span>
                        </a>
                        <a class="brand" href="./"><span class=site-name>lpic1book</span></a>
                        <div class="nav-collapse collapse">
                            <ul class="nav pull-right top-menu">
                                <li >
                                </li>
                                <li ><a href="./">Home</a></li>
                                <li ><a href="./support">Support/Donate</a></li>
                                <li ><a href="./archives.html">Chapters</a></li>
                                <li ><a href="./tags.html">Tags</a></li>
                                <li><form action="https://www.google.com/search" method="get" target="_blank" class="navbar-search"> <input type="hidden" name="sitesearch" value="https://linux1st.com/"/><input type="text" class="search-query" placeholder="Search" name="q" id="tipue_search_input"></form></li>

                            </ul>
                        </div>
                    </div>
                </div>
            </div>
            <div class="container-fluid">
                <div class="row-fluid">
                    <div class="span1"></div>
                    <div class="span10">
<article itemscope>
<div class="row-fluid">
    <header class="page-header span10 offset2">
        <h1>
            <a href="./1024-use-debian-package-management.html">
                102.4 Use Debian package management
            </a>
        </h1>
    </header>
</div>

<div class="row-fluid">
        <div class="span8 offset2 article-content">
            
            <p><em>weight: 3</em></p>
<p>Candidates should be able to perform package management using the Debian package tools.</p>
<ul>
<li>Install, upgrade and uninstall Debian binary packages.</li>
<li>Find packages containing specific files or libraries which may or may not be installed.</li>
<li>Obtain package information like version, content, dependencies, package integrity and installation status (whether or not the package is installed).</li>
<li>/etc/apt/sources.list</li>
<li>dpkg</li>
<li>dpkg-reconfigure</li>
<li>apt-get</li>
<li>apt-cache</li>
<li>aptitude</li>
</ul>
<h3>Concept of the package management system</h3>
<p>Linux used to be based on compiling source code but then Distributions arrived. Most distributions have their own Package Manager for installing pre-build programs from defined <em>repositories</em>. Debian based distros use .deb files with apt, dpkg, aptitude and Fedora, RedHat, RHEL, SUSE, .. use RPM and Yum package managers.</p>
<h3>Installing packages</h3>
<p>We do not have "bzr" installed.</p>
<div class="highlight"><pre><span></span><code>jadi@funlife:~/w/lpic/101$ bzr
The program &#39;bzr&#39; is currently not installed. You can install it by typing:
sudo apt-get install bzr
jadi@funlife:~/w/lpic/101$ which bzr
jadi@funlife:~/w/lpic/101$ type bzr
bash: type: bzr: not found
</code></pre></div>

<p>so lets install it. If we have the .deb file:</p>
<div class="highlight"><pre><span></span><code> apt-get install bzr
</code></pre></div>

<p>note that</p>
<ul>
<li>apt-get install asked for confirmation (Y)</li>
<li>apt-get resolved <em>dependencies</em>, it know what is needed to install this package and installs them</li>
<li>debian packages are something.deb</li>
</ul>
<p>bzr</p>
<p>if you only want a dry-run / simulation:</p>
<div class="highlight"><pre><span></span><code>apt-get install -s bzr
</code></pre></div>

<p>and this will only download the files without installing them:</p>
<div class="highlight"><pre><span></span><code>apt-get install --download-only bzr
</code></pre></div>

<p>which only Downloaded files are stored them at /var/cache/apt/archive/ (or use the -d switch instead)</p>
<h3>Package location</h3>
<p>where these packages come from? from a <strong>Repository</strong> of different <strong>Repositories</strong> which are defined at /etc/apt/sources.list file and files located at /etc/apt/sources.list.d/ in the form of:</p>
<div class="highlight"><pre><span></span><code>$ cat /etc/apt/sources.list

deb http://ir.archive.ubuntu.com/ubuntu/ utopic-updates multiverse

## N.B. software from this repository may not have been tested as
## extensively as that contained in the main release, although it includes
## newer versions of some applications which may provide useful features.
## Also, please note that software in backports WILL NOT receive any review
## or updates from the Ubuntu security team.
deb http://ir.archive.ubuntu.com/ubuntu/ utopic-backports main restricted universe multiverse

deb http://security.ubuntu.com/ubuntu utopic-security main restricted
deb http://security.ubuntu.com/ubuntu utopic-security universe
deb http://security.ubuntu.com/ubuntu utopic-security multiverse
</code></pre></div>

<p>Updating sources information:</p>
<div class="highlight"><pre><span></span><code>apt-get update
</code></pre></div>

<h3>Removing debian packages</h3>
<div class="highlight"><pre><span></span><code>apt-get remove bzr
</code></pre></div>

<p>and if you want to remove automatically installed dependencies:</p>
<div class="highlight"><pre><span></span><code>$ apt-get autoremove bzr
</code></pre></div>

<p>or even</p>
<div class="highlight"><pre><span></span><code>$ apt-get autoremove
Reading package lists... Done
Building dependency tree       
Reading state information... Done
The following packages will be REMOVED:
  linux-image-3.16.0-25-generic linux-image-extra-3.16.0-25-generic
0 upgraded, 0 newly installed, 2 to remove and 0 not upgraded.
After this operation, 203 MB disk space will be freed.
Do you want to continue? [Y/n] y
</code></pre></div>

<p>Notes:</p>
<ul>
<li>removing a package will not remove its dependencies</li>
<li>if removing a dependency, you'll get a warning about what will be removed alongside this package</li>
</ul>
<h3>searching for packages</h3>
<div class="highlight"><pre><span></span><code>$ apt-cache search &quot;tiny window&quot;
$ aptitude search grub2
</code></pre></div>

<h3>Updating</h3>
<p>for updating a single package</p>
<div class="highlight"><pre><span></span><code>apt-get install tzdata
</code></pre></div>

<p>and for upgrading whatever installed:</p>
<div class="highlight"><pre><span></span><code>apt-get upgrade
</code></pre></div>

<p>or going to a new distribution:</p>
<div class="highlight"><pre><span></span><code>apt-get dist-upgrade
</code></pre></div>

<p>Note: as most other tools, you can configure the default configs at /etc/apt/apt.conf and there is a program apt-config for this purpose.</p>
<h3>reconfiguring packages</h3>
<p>A program called debconf configures packages after they are installed. you can reconfigure a package (say tzdata) using</p>
<div class="highlight"><pre><span></span><code> dpkg-reconfigure tzdata
</code></pre></div>

<h3>package information with dpkg</h3>
<p>dpkg is a very powerful tool for working with .deb package files. If you want to see what is inside a .deb file:</p>
<div class="highlight"><pre><span></span><code>$ dpkg --contents bzr_2.6.0+bzr6595-1ubuntu1_all.deb
drwxr-xr-x root/root         0 2014-05-02 18:16 ./
drwxr-xr-x root/root         0 2014-05-02 18:15 ./etc/
drwxr-xr-x root/root         0 2014-05-02 18:15 ./etc/bash_completion.d/
-rw-r--r-- root/root      1467 2010-04-22 11:31 ./etc/bash_completion.d/bzr
...
...
</code></pre></div>

<p>another apt tool is dpkg. dpkg can install, remove, configure and query packages and as always the config is at /etc/dpkg/dpkg.cfg and uses /var/lib/dpkg tree . the most important switch is <strong>-s</strong> for <strong>status</strong>.</p>
<div class="highlight"><pre><span></span><code>$ dpkg -s bzr
Package: bzr
Status: deinstall ok config-files
Priority: optional
Section: vcs
Installed-Size: 102
Maintainer: Ubuntu Developers &lt;ubuntu-devel-discuss@lists.ubuntu.com&gt;
Architecture: all
Version: 2.6.0+bzr6595-1ubuntu1
Config-Version: 2.6.0+bzr6595-1ubuntu1
Depends: python-bzrlib (&lt;= 2.6.0+bzr6595-1ubuntu1.1~), python-bzrlib (&gt;= 2.6.0+bzr6595-1ubuntu1), python:any
Recommends: python-gpgme
Suggests: bzr-doc, bzrtools, python-bzrlib.tests
Breaks: bzr-pqm (&lt;&lt; 1.4.0~bzr80), bzr-xmloutput (&lt;&lt; 0.8.8+bzr160), python-bzrlib (&lt;&lt; 2.4.0~beta3~)
Conffiles:
 /etc/bash_completion.d/bzr b8d9ca95521a7c5f14860e205a854da2
Description: easy to use distributed version control system
 Bazaar is a distributed version control system designed to be easy to
 use and intuitive, able to adapt to many workflows, reliable, and
 easily extendable.
 .
 Publishing of branches can be done over plain HTTP, that is, no special
 software is needed on the server to host Bazaar branches. Branches can
 be pushed to the server via sftp (which most SSH installations come
 with), FTP, or over a custom and faster protocol if bzr is installed in
 the remote end.
 .
 Merging in Bazaar is easy, as the implementation is able to avoid many
 spurious conflicts, deals well with repeated merges between branches,
 and is able to handle modifications to renamed files correctly.
 .
 Bazaar is written in Python, and has a flexible plugin interface which
 can be used to extend its functionality. Many plugins exist, providing
 useful commands (bzrtools), graphical interfaces (qbzr), or native
 interaction with Subversion branches (bzr-svn).
 .
 Install python-paramiko if you are going to push branches to remote
 hosts with sftp, and python-pycurl if you&#39;d like for SSL certificates
 always to be verified.
Homepage: http://bazaar-vcs.org
Original-Maintainer: Debian Bazaar Maintainers &lt;pkg-bazaar-maint@lists.alioth.debian.org&gt;
</code></pre></div>

<p>another command is <strong>purge</strong> which will remove the package and all of its configurations.. the switch is <strong>-P</strong> or <strong>--purge</strong>.</p>
<p>There is also <strong>-L</strong> to check the files and directories a package installed:</p>
<div class="highlight"><pre><span></span><code>$ dpkg -L jcal
/.
/usr
/usr/bin
/usr/bin/jcal
/usr/share
/usr/share/doc
/usr/share/doc/jcal
/usr/share/doc/jcal/README
/usr/share/doc/jcal/copyright
/usr/share/man
/usr/share/man/man1
/usr/share/man/man1/jcal.1.gz
/usr/share/doc/jcal/changelog.Debian.gz
</code></pre></div>

<p>and <strong>-S</strong> will show which package installed the given file:</p>
<div class="highlight"><pre><span></span><code>$ dpkg -S /var/lib/mplayer/prefs/mirrors
mplayer: /var/lib/mplayer/prefs/mirrors
</code></pre></div>

<p>Note: you can also use <code>which</code> for finding out what file will be used on any given command:</p>
<div class="highlight"><pre><span></span><code>jadi@funlife:~/w/lpic/101$ which java
/usr/bin/java
</code></pre></div>

<h3>aptitude</h3>
<p>is a newer tool for managing files. It can be used like this:</p>
<div class="highlight"><pre><span></span><code>$ aptitude install jcal
$ aptitude remove jcal
$ aptitude search cal
$ aptitude show bzr
</code></pre></div>

<p>or it can also be used as a standalone program:</p>
<p><img alt="aptitude sample" src="http://www.ibm.com/developerworks/linux/library/l-lpic1-v3-102-4/fig-102-4-2.gif"></p>
<h3>other tools</h3>
<p>there is gui tools like "synaptic" and "update manager". These will Search, Update, Upgrade, Install, Remove via a graphical user interface and are present in many distributions. This is ubuntu software center:</p>
<p><img alt="Ubuntu Software Center" src="http://screenshots.debian.net/screenshots/s/software-center/10674_large.png"></p>
<p>and this is a software updater GUI for gnome:</p>
<p><img alt="Software Updater" src="http://farm5.static.flickr.com/4100/4897220771_4b27362dbc.jpg"></p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>. . .</p>
<p>..</p>
<p>. .</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>


             
 
            
            
            







            <hr/>

            <!-- show next and previous links -->
            <table style="background: white; border: 0; font-size: 0.8em;"><tr>
                
                
                
                
                
                
                
                
                
                <td style="background: white; border: 0;">
                            <a href="./1023-manage-shared-libraries.html">← 102.3 Manage shared libraries</a>
                </td>
                <td style="background: white; border: 0;"><center ><a href="/archives.html">Chapter List</a></center></td>
                <td style="background: white; border: 0; text-align: right;">
                            <a href="./1025-use-rpm-and-yum-package-management.html">102.5 Use RPM and YUM package management →</a>
                </td>
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
            </tr></table>
            
            <hr />


	<div class=comment>

<div id="disqus_thread"></div>
<script>
    (function() { // DON'T EDIT BELOW THIS LINE
    var d = document, s = d.createElement('script');
    s.src = 'https://linux1st.disqus.com/embed.js';
    s.setAttribute('data-timestamp', +new Date());
    (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>


	</div>
        </div>
        <section id="article-sidebar" class="span2">
            <h4>Category</h4>
            <a class="category-link" href="./categories.html#lpic1-ref">LPIC1</a>
            <h4>Tags</h4>
            <ul class="list-of-tags tags-in-article">
                <li><a href="./tags.html#101-ref">101
                    <span class="superscript">38</span>
</a></li>
                <li><a href="./tags.html#lpic1-ref">LPIC1
                    <span class="superscript">42</span>
</a></li>
                <li><a href="./tags.html#lpic1-101-500-ref">LPIC1-101-500
                    <span class="superscript">41</span>
</a></li>
            </ul>
<h4>Contact</h4>
<div id="sidebar-social-link">
</div>
            





            





        </section>
</div>
</article>
<!-- Root element of PhotoSwipe. Must have class pswp. -->
<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

    <!-- Background of PhotoSwipe.
         It's a separate element as animating opacity is faster than rgba(). -->
    <div class="pswp__bg"></div>

    <!-- Slides wrapper with overflow:hidden. -->
    <div class="pswp__scroll-wrap">

        <!-- Container that holds slides.
            PhotoSwipe keeps only 3 of them in the DOM to save memory.
            Don't modify these 3 pswp__item elements, data is added later on. -->
        <div class="pswp__container">
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
        </div>

        <!-- Default (PhotoSwipeUI_Default) interface on top of sliding area. Can be changed. -->
        <div class="pswp__ui pswp__ui--hidden">

            <div class="pswp__top-bar">

                <!--  Controls are self-explanatory. Order can be changed. -->

                <div class="pswp__counter"></div>

                <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>

                <button class="pswp__button pswp__button--share" title="Share"></button>

                <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>

                <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>

                <!-- Preloader demo https://codepen.io/dimsemenov/pen/yyBWoR -->
                <!-- element will get class pswp__preloader--active when preloader is running -->
                <div class="pswp__preloader">
                    <div class="pswp__preloader__icn">
                      <div class="pswp__preloader__cut">
                        <div class="pswp__preloader__donut"></div>
                      </div>
                    </div>
                </div>
            </div>

            <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
                <div class="pswp__share-tooltip"></div>
            </div>

            <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
            </button>

            <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
            </button>

            <div class="pswp__caption">
                <div class="pswp__caption__center"></div>
            </div>

        </div>

    </div>

</div>                    </div>
                    <div class="span1"></div>
                </div>
            </div>
        </div>
<footer>




    <div id="fpowered">
        Powered by: <a href="http://getpelican.com/" title="Pelican Home Page" target="_blank" rel="nofollow noopener noreferrer">Pelican</a>
        Theme: <a href="https://elegant.oncrashreboot.com/" title="Theme Elegant Home Page" target="_blank" rel="nofollow noopener noreferrer">Elegant</a>
    </div>
</footer>            <script src="//code.jquery.com/jquery.min.js"></script>
        <script src="//netdna.bootstrapcdn.com/twitter-bootstrap/2.3.2/js/bootstrap.min.js"></script>
        <script src="./theme/js/elegant.prod.9e9d5ce754.js"></script>
        <script>
            function validateForm(query)
            {
                return (query.length > 0);
            }
        </script>

    <script>
    (function () {
        if (window.location.hash.match(/^#comment-\d+$/)) {
            $('#comment_thread').collapse('show');
        }
    })();
    window.onhashchange=function(){
        if (window.location.hash.match(/^#comment-\d+$/))
            window.location.reload(true);
    }
    $('#comment_thread').on('shown', function () {
        var link = document.getElementById('comment-accordion-toggle');
        var old_innerHTML = link.innerHTML;
        $(link).fadeOut(200, function() {
            $(this).text('Click here to hide comments').fadeIn(200);
        });
        $('#comment_thread').on('hidden', function () {
            $(link).fadeOut(200, function() {
                $(this).text(old_innerHTML).fadeIn(200);
            });
        })
    })
</script>

    </body>
    <!-- Theme: Elegant built for Pelican
        License : MIT -->
</html>