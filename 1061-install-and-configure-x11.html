<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link rel="stylesheet" type="text/css" href="./theme/css/elegant.prod.9e9d5ce754.css" media="screen">
        <link rel="stylesheet" type="text/css" href="./theme/css/custom.css" media="screen">

        <link rel="dns-prefetch" href="//fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com/" crossorigin>

        <meta name="author" content="Jadi" />

        <meta property="og:type" content="article" />
        <meta name="twitter:card" content="summary">

<meta name="keywords" content="LPIC1, 102, LPIC1-102-500, LPIC1, " />

<meta property="og:title" content="106.1 Install and configure X11 "/>
<meta property="og:url" content="./1061-install-and-configure-x11.html" />
<meta property="og:description" content="" />
<meta property="og:site_name" content="lpic1book" />
<meta property="og:article:author" content="Jadi" />
<meta property="og:article:published_time" content="2010-12-03T10:20:00+01:00" />
<meta name="twitter:title" content="106.1 Install and configure X11 ">
<meta name="twitter:description" content="">

        <title>106.1 Install and configure X11  · lpic1book
</title>



        
        <!-- Global site tag (gtag.js) - Google Analytics -->
        <script async src="https://www.googletagmanager.com/gtag/js?id=G-4CZV14VZXW"></script>
        <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'G-4CZV14VZXW');
        </script>
        
    </head>
    <body>
        <div id="content">
            <div class="navbar navbar-static-top">
                <div class="navbar-inner">
                    <div class="container-fluid">
                        <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                            <span class="icon-bar"></span>
                            <span class="icon-bar"></span>
                            <span class="icon-bar"></span>
                        </a>
                        <a class="brand" href="./"><span class=site-name>lpic1book</span></a>
                        <div class="nav-collapse collapse">
                            <ul class="nav pull-right top-menu">
                                <li >
                                </li>
                                <li ><a href="./">Home</a></li>
                                <li ><a href="./support">Support/Donate</a></li>
                                <li ><a href="./archives.html">Chapters</a></li>
                                <li ><a href="./tags.html">Tags</a></li>
                                <li><form action="https://www.google.com/search" method="get" target="_blank" class="navbar-search"> <input type="hidden" name="sitesearch" value="https://linux1st.com/"/><input type="text" class="search-query" placeholder="Search" name="q" id="tipue_search_input"></form></li>

                            </ul>
                        </div>
                    </div>
                </div>
            </div>
            <div class="container-fluid">
                <div class="row-fluid">
                    <div class="span1"></div>
                    <div class="span10">
<article itemscope>
<div class="row-fluid">
    <header class="page-header span10 offset2">
        <h1>
            <a href="./1061-install-and-configure-x11.html">
                106.1 Install and configure X11
            </a>
        </h1>
    </header>
</div>

<div class="row-fluid">
        <div class="span8 offset2 article-content">
            
            <p><em>Weight: 2</em></p>
<p>Candidates should be able to install and configure X11.</p>
<h4>Key Knowledge Areas</h4>
<ul>
<li>Understanding of the X11 architecture.</li>
<li>Basic understanding and knowledge of the X Window configuration file.</li>
<li>Overwrite specific aspects of Xorg configuration, such as keyboard layout.</li>
<li>Understand the components of desktop environments, such as display managers and window managers.</li>
<li>Manage access to the X server and display applications on remote X servers.</li>
<li>Awareness of Wayland.</li>
</ul>
<h4>Terms and Utilities:</h4>
<ul>
<li><code>/etc/X11/xorg.conf</code></li>
<li><code>/etc/X11/xorg.conf.d/</code></li>
<li><code>~/.xsession-errors</code></li>
<li>xhost</li>
<li>xauth</li>
<li>DISPLAY</li>
<li>X</li>
</ul>
<iframe width="560" height="315" src="https://www.youtube.com/embed/JqiT4rsTvUo" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe>

<h2>Intro</h2>
<p>Many people prefer to navigate and use their system via a Graphical User Interface (Or GUI in short). A GUI based operating system provides the user the Icons, mouse, windows &amp; folders, a metaphor from our daily "desktops". But how does this happen? As many other things in the Unix world, this happens via layers of applications that are doing one thing well. This is a rough representation of this stack:</p>
<p><img alt="Linux GUI stack" src="/images/gui_stack.png"></p>
<p>On the lower level we have the hardware (say your Monitor) and then the Linux kernel and its drivers. On top of that there is a software called "Display Manager" or "Display Server". This program can ask the operating system (the kernel) to perform what the desktop manager requests. In other words, the display server accepts the desires of UI (even via a network channel) and translates them to the language that Kernel (and drivers in it) understand.</p>
<p>In this section we are focusing on <strong>X</strong> which is one of the two main Display Servers and then will have a brief look at the other one; the modern <strong>Wayland</strong>. </p>
<h2>X</h2>
<p>The X Window System is a network transparent window system which runs on a wide range of computing and graphics machines; including in most GNU/Linux distributions when they need a graphical interfaces. Its history a bit long and started with <em>XFree86</em> then the X.org started its own X Server which is called X11 nowadays. </p>
<blockquote>
<p>Going down the rabbit hole, <em>X Window System</em> (or <em>X</em>), was the default windowing system for most Unix and Unix like systems during 1980s. X.Org server is the free and open-source implementation of the X Window System display server by the X.Org Foundation. These day when we say <em>X</em> we are referring to the whole family of the network protocols describing how messages are exchanged between a client (application) and the display server; X11 being the 11th version of them.</p>
</blockquote>
<h3>/etc/X11/xorg.conf</h3>
<p>This used to be main configuration file for X. In recent days X configures itself when starting and does not need a config file. But if you want to make changes in the boot-up process, you can create a new <code>xorg.conf.new</code> file by running the following command:</p>
<div class="highlight"><pre><span></span><code>Xorg -configure
</code></pre></div>

<p>and then moving it to the <code>/etc/X11/xorg.conf</code>. This file contains different sections. Lets have a look at some of them.</p>
<div class="highlight"><pre><span></span><code>Section &quot;Files&quot;
    FontPath    &quot;/usr/share/X11/fonts/misc&quot;
    FontPath    &quot;/usr/share/X11/fonts/100dpi/:unscaled&quot;
    FontPath    &quot;/usr/share/X11/fonts/75dpi/:unscaled&quot;
    FontPath    &quot;/usr/share/X11/fonts/Type1&quot;
    FontPath    &quot;/usr/share/X11/fonts/100dpi&quot;
    FontPath    &quot;/usr/share/X11/fonts/75dpi&quot;
    FontPath    &quot;/var/lib/defoma/x-ttcidfont-conf.d/dirs/TrueType&quot;
EndSection
</code></pre></div>

<p>This part is about Fonts. When X-Server is running it needs these files. FontPaths tell X11 where fonts are. It also can refer to an IP running a font-server which is not common these days. Font servers used to be responsible of rendering fonts to be shown on clients but nowadays computers are fast and can render their own fonts. Font servers are going out of fashion!</p>
<div class="highlight"><pre><span></span><code>Section &quot;Module&quot;
    Load    &quot;bitmap&quot;
    Load    &quot;ddc&quot;
    Load    &quot;dri&quot;
    Load    &quot;extmod&quot;
    Load    &quot;freetype&quot;
    Load    &quot;glx&quot;
    Load    &quot;int10&quot;
    Load    &quot;type1&quot;
    Load    &quot;vbe&quot;
    Load    &quot;dbe&quot;
EndSection
</code></pre></div>

<p>These are modules. For example <code>glx</code> takes care of <em>3D graphical</em> effects and we are asking X to load it alongside others.</p>
<p>Here are the <code>InputDevice</code>s:</p>
<div class="highlight"><pre><span></span><code>Section &quot;InputDevice&quot;
    Identifier    &quot;Generic Keyboard&quot;
    Driver        &quot;kbd&quot;
    Option        &quot;CoreKeyboard&quot;
    Option        &quot;XkbRules&quot;    &quot;xorg&quot;
    Option        &quot;XkbModel&quot;    &quot;pc105&quot;
    Option        &quot;XkbLayout&quot;    &quot;us&quot;
EndSection

Section &quot;InputDevice&quot;
    Identifier    &quot;Configured Mouse&quot;
    Driver        &quot;mouse&quot;
    Option        &quot;CorePointer&quot;
    Option        &quot;Device&quot;        &quot;/dev/input/mice&quot;
    Option        &quot;Protocol&quot;        &quot;ImPS/2&quot;
    Option        &quot;Emulate3Buttons&quot;    &quot;true&quot;
    Option        &quot;ZAxisMapping&quot;        &quot;4 5&quot;
EndSection

Section &quot;InputDevice&quot;
        Identifier      &quot;Synaptics Touchpad&quot;
        Driver          &quot;synaptics&quot;
        Option          &quot;SendCoreEvents&quot;        &quot;true&quot;
        Option          &quot;Device&quot;                &quot;/dev/psaux&quot;
        Option          &quot;Protocol&quot;              &quot;auto-dev&quot;
        Option        &quot;RightEdge&quot;        &quot;5000&quot;
EndSection
</code></pre></div>

<p>As you can see each device has an <code>Identifier</code>, <code>Driver</code> and some <code>options</code>. Above we defined a mouse, a keyboard and a touchpad and gave them some names.</p>
<div class="highlight"><pre><span></span><code>Section &quot;Device&quot;
    Identifier    &quot;ATI Technologies, Inc. Radeon Mobility 7500 (M7 LW)&quot;
    Driver        &quot;radeon&quot;
    BusID        &quot;PCI:1:0:0&quot;
    Option        &quot;DynamicClocks&quot;    &quot;on&quot;
    Option        &quot;CRT2HSync&quot;    &quot;30-80&quot;
    Option        &quot;CRT2VRefresh&quot;    &quot;59-75&quot;
      Option        &quot;MetaModes&quot;    &quot;1024x768 800x600 640x480 1024x768+1280x1024&quot;
EndSection
</code></pre></div>

<p>A graphic card! Again it has its identifies (name), its drivers and some options (like support resolutions, refresh rates, ...). This device needs a screen and a monitor:</p>
<blockquote>
<p>Note: The <code>vesa</code> points to a low resolution, always working driver. It is used for troubleshooting.</p>
</blockquote>
<div class="highlight"><pre><span></span><code>Section &quot;Monitor&quot;
    Identifier    &quot;Generic Monitor&quot;
    Option        &quot;DPMS&quot;
EndSection

Section &quot;Screen&quot;
    Identifier    &quot;Screen0&quot;
    Device        &quot;Screen0 ATI Technologies, Inc. Radeon Mobility 7500 (M7 LW)&quot;
    Monitor        &quot;Generic Monitor&quot;
    DefaultDepth    24
    SubSection &quot;Display&quot;
        Depth        1
        Modes        &quot;1024x768&quot;
    EndSubSection
    SubSection &quot;Display&quot;
        Depth        4
        Modes        &quot;1024x768&quot;
    EndSubSection
    SubSection &quot;Display&quot;
        Depth        8
        Modes        &quot;1024x768&quot;
    EndSubSection
    SubSection &quot;Display&quot;
        Depth        15
        Modes        &quot;1024x768&quot;
    EndSubSection
    SubSection &quot;Display&quot;
        Depth        16
        Modes        &quot;1024x768&quot;
    EndSubSection
    SubSection &quot;Display&quot;
        Depth        24
        Modes        &quot;1024x768&quot;
    EndSubSection
EndSection
</code></pre></div>

<p>Note how the screen uses the already defined monitor (using its identifier "Generic Monitor") and an already defined graphic card. Also note the different color modes (say <code>24bit 1024x768</code>).</p>
<p>At the end we have to glue all of the above in one place as <code>ServerLayout</code>:</p>
<div class="highlight"><pre><span></span><code>Section &quot;ServerLayout&quot;
    Identifier    &quot;DefaultLayout&quot;
    Screen        &quot;Default Screen&quot;
    InputDevice    &quot;Generic Keyboard&quot;
    InputDevice    &quot;Configured Mouse&quot;
    InputDevice    &quot;Synaptics Touchpad&quot;
EndSection
</code></pre></div>

<p>We have a layout with a screen and 3 input devices :)</p>
<blockquote>
<p>Note: Do not panic. A general understanding of xorg.conf is enough</p>
</blockquote>
<h3>/etc/X11/xorg.conf.d/</h3>
<p>What happens if you edit the <code>/etc/program.conf</code> and then update the system? will the system overwrite your newly edited <code>program.conf</code> with the latest version from the vendor? or omit the changes in the vendor in favor of your local edits? Both are <em>bad</em>.</p>
<p>To solve this issue, many programs are creating a new configurations directory as <code>/etc/program/program.conf.d/</code> and asking you to add your <em>local</em> configurations there. So the main configuration file from the vendor will be <code>/etc/program/program.conf</code> and all your new configurations will go into the <code>/etc/program/program.conf.d/</code> as separated files. Much easier to manage (because smaller atomic files per configuration) and no touching the vendors config by locals. Cool? yes... this is happening in X11 too. Your own configs should go into <code>/etc/X11/xorg.conf.d/</code> and the <code>/etc/X11/xorg.conf</code> should remain untouched.</p>
<h3>~/.xsession-errors</h3>
<p>In case of any issues during the start of running of X, the errors will go here. So if you ran into an issue on your GUI startup, this is the file you should check to see what went wrong.</p>
<h3>xhost</h3>
<p>This command controls the access to the X server. If you are on a X server and run <code>xhost</code> it tells you the access status.</p>
<div class="highlight"><pre><span></span><code>$ xhost
access control enabled, only authorized clients can connect
SI:localuser:jadi
</code></pre></div>

<p>As you can see only authorized clients can connect. To open it for all:</p>
<div class="highlight"><pre><span></span><code>jadi@funlife:~$ xhost +
access control disabled, clients can connect from any host
</code></pre></div>

<p>And for closing it again:</p>
<div class="highlight"><pre><span></span><code>jadi@funlife:~$ xhost -
access control enabled, only authorized clients can connect
</code></pre></div>

<p>Or open it for only one specific IP:</p>
<div class="highlight"><pre><span></span><code>jadi@funlife:~$ xhost +192.168.42.85
192.168.42.85 being added to access control list
jadi@funlife:~$ xhost
access control enabled, only authorized clients can connect
INET:192.168.42.85    (no nameserver response within 5 seconds)
SI:localuser:jadi
</code></pre></div>

<p>Now the <code>192.168.42.85</code> machine (REMOTE) can send its graphical requests to this machine. whats the usage? continue reading the next section (assuming this machine is called <code>192.168.42.80</code> (SERVER) and we opened the access from to its X11 for <code>192.168.42.85</code> (REMOTE) ).</p>
<h3>DISPLAY</h3>
<p>This variable tells graphical programs where to send their graphical output. This is the default:</p>
<div class="highlight"><pre><span></span><code>$ echo $DISPLAY
:0
</code></pre></div>

<p>So if I run any graphical program on my machine, its output will be displayed on the same machine. </p>
<p>But lets change it to the <code>192.168.42.80</code> machine (SERVER).. if you remember we just told it that this machine (REMOTE) can connect to it.</p>
<div class="highlight"><pre><span></span><code>$ export DISPLAY=192.168.42.80:0
$ xeyes # the eyes will be shown on 192.168.42.80 machine
</code></pre></div>

<p>Cool? yes. But this might not wonk on your setup. The X does not listen for remote connection in most distros because of security concerns. </p>
<blockquote>
<p>In the next chapter, we will see how you can properly run graphical programs on remote servers and receive the GUI part on your side</p>
</blockquote>
<h3>xauth</h3>
<p>The <code>xauth</code> program is used to edit and display the authorization information used in connecting to the X server. On <a href="#xhost">xhost</a> you see how you can open your X to remote IPs, using <code>xauth</code> you can do the same based on a shared "secret". </p>
<p>In this method, <code>X</code> creates an <code>.XAuthority</code> file in your home and whoever knows about the contents, can contact X. </p>
<blockquote>
<p>If your <code>X</code> is not working, one step might be <code>rm</code>ing the <code>.XAuthority</code> file and restarting the X. </p>
</blockquote>
<h2>Wayland</h2>
<p><em>X11</em> is super old and is only usable via lots of patches and hacks. Thats why one of its developers started a modern display manager called <em>Wayland</em>. In recent years many distros are switching from the default <em>X11</em> to <em>Wayland</em> and keeping X11 as a fail-safe option. Wayland is more secure and much easier to maintain and I can assure you that in a couple of years we will see more and more of it.</p>


             
 
            
            
            







            <hr/>

            <!-- show next and previous links -->
            <table style="background: white; border: 0; font-size: 0.8em;"><tr>
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                <td style="background: white; border: 0;">
                            <a href="./1053-removed.html">← 105.3 Removed!</a>
                </td>
                <td style="background: white; border: 0;"><center ><a href="/archives.html">Chapter List</a></center></td>
                <td style="background: white; border: 0; text-align: right;">
                            <a href="./1062-graphical-desktops.html">106.2 Graphical Desktops →</a>
                </td>
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
            </tr></table>
            
            <hr />


	<div class=comment>

<div id="disqus_thread"></div>
<script>
    (function() { // DON'T EDIT BELOW THIS LINE
    var d = document, s = d.createElement('script');
    s.src = 'https://linux1st.disqus.com/embed.js';
    s.setAttribute('data-timestamp', +new Date());
    (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>


	</div>
        </div>
        <section id="article-sidebar" class="span2">
            <h4>Category</h4>
            <a class="category-link" href="./categories.html#lpic1-ref">LPIC1</a>
            <h4>Tags</h4>
            <ul class="list-of-tags tags-in-article">
                <li><a href="./tags.html#102-ref">102
                    <span class="superscript">20</span>
</a></li>
                <li><a href="./tags.html#lpic1-ref">LPIC1
                    <span class="superscript">42</span>
</a></li>
                <li><a href="./tags.html#lpic1-102-500-ref">LPIC1-102-500
                    <span class="superscript">20</span>
</a></li>
            </ul>
<h4>Contact</h4>
<div id="sidebar-social-link">
</div>
            





            





        </section>
</div>
</article>
<!-- Root element of PhotoSwipe. Must have class pswp. -->
<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

    <!-- Background of PhotoSwipe.
         It's a separate element as animating opacity is faster than rgba(). -->
    <div class="pswp__bg"></div>

    <!-- Slides wrapper with overflow:hidden. -->
    <div class="pswp__scroll-wrap">

        <!-- Container that holds slides.
            PhotoSwipe keeps only 3 of them in the DOM to save memory.
            Don't modify these 3 pswp__item elements, data is added later on. -->
        <div class="pswp__container">
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
        </div>

        <!-- Default (PhotoSwipeUI_Default) interface on top of sliding area. Can be changed. -->
        <div class="pswp__ui pswp__ui--hidden">

            <div class="pswp__top-bar">

                <!--  Controls are self-explanatory. Order can be changed. -->

                <div class="pswp__counter"></div>

                <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>

                <button class="pswp__button pswp__button--share" title="Share"></button>

                <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>

                <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>

                <!-- Preloader demo https://codepen.io/dimsemenov/pen/yyBWoR -->
                <!-- element will get class pswp__preloader--active when preloader is running -->
                <div class="pswp__preloader">
                    <div class="pswp__preloader__icn">
                      <div class="pswp__preloader__cut">
                        <div class="pswp__preloader__donut"></div>
                      </div>
                    </div>
                </div>
            </div>

            <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
                <div class="pswp__share-tooltip"></div>
            </div>

            <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
            </button>

            <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
            </button>

            <div class="pswp__caption">
                <div class="pswp__caption__center"></div>
            </div>

        </div>

    </div>

</div>                    </div>
                    <div class="span1"></div>
                </div>
            </div>
        </div>
<footer>




    <div id="fpowered">
        Powered by: <a href="http://getpelican.com/" title="Pelican Home Page" target="_blank" rel="nofollow noopener noreferrer">Pelican</a>
        Theme: <a href="https://elegant.oncrashreboot.com/" title="Theme Elegant Home Page" target="_blank" rel="nofollow noopener noreferrer">Elegant</a>
    </div>
</footer>            <script src="//code.jquery.com/jquery.min.js"></script>
        <script src="//netdna.bootstrapcdn.com/twitter-bootstrap/2.3.2/js/bootstrap.min.js"></script>
        <script src="./theme/js/elegant.prod.9e9d5ce754.js"></script>
        <script>
            function validateForm(query)
            {
                return (query.length > 0);
            }
        </script>

    <script>
    (function () {
        if (window.location.hash.match(/^#comment-\d+$/)) {
            $('#comment_thread').collapse('show');
        }
    })();
    window.onhashchange=function(){
        if (window.location.hash.match(/^#comment-\d+$/))
            window.location.reload(true);
    }
    $('#comment_thread').on('shown', function () {
        var link = document.getElementById('comment-accordion-toggle');
        var old_innerHTML = link.innerHTML;
        $(link).fadeOut(200, function() {
            $(this).text('Click here to hide comments').fadeIn(200);
        });
        $('#comment_thread').on('hidden', function () {
            $(link).fadeOut(200, function() {
                $(this).text(old_innerHTML).fadeIn(200);
            });
        })
    })
</script>

    </body>
    <!-- Theme: Elegant built for Pelican
        License : MIT -->
</html>