<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link rel="stylesheet" type="text/css" href="./theme/css/elegant.prod.9e9d5ce754.css" media="screen">
        <link rel="stylesheet" type="text/css" href="./theme/css/custom.css" media="screen">

        <link rel="dns-prefetch" href="//fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com/" crossorigin>

        <meta name="author" content="Jadi" />

        <meta property="og:type" content="article" />
        <meta name="twitter:card" content="summary">

<meta name="keywords" content="LPIC1, 101, LPIC1-101-500, LPIC1, " />

<meta property="og:title" content="104.6 Create and change hard and symbolic links "/>
<meta property="og:url" content="./1046-create-and-change-hard-and-symbolic-links.html" />
<meta property="og:description" content="" />
<meta property="og:site_name" content="lpic1book" />
<meta property="og:article:author" content="Jadi" />
<meta property="og:article:published_time" content="2010-12-03T10:20:00+01:00" />
<meta name="twitter:title" content="104.6 Create and change hard and symbolic links ">
<meta name="twitter:description" content="">

        <title>104.6 Create and change hard and symbolic links  Â· lpic1book
</title>



        
        <!-- Global site tag (gtag.js) - Google Analytics -->
        <script async src="https://www.googletagmanager.com/gtag/js?id=G-4CZV14VZXW"></script>
        <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'G-4CZV14VZXW');
        </script>
        
    </head>
    <body>
        <div id="content">
            <div class="navbar navbar-static-top">
                <div class="navbar-inner">
                    <div class="container-fluid">
                        <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                            <span class="icon-bar"></span>
                            <span class="icon-bar"></span>
                            <span class="icon-bar"></span>
                        </a>
                        <a class="brand" href="./"><span class=site-name>lpic1book</span></a>
                        <div class="nav-collapse collapse">
                            <ul class="nav pull-right top-menu">
                                <li >
                                </li>
                                <li ><a href="./">LPIC1 Book</a></li>
                                <li ><a href="./">Home</a></li>
                                <li ><a href="./support">Support/Donate</a></li>
                                <li ><a href="./archives.html">Chapters</a></li>
                                <li ><a href="./tags.html">Tags</a></li>
                                <li><form action="https://www.google.com/search" method="get" target="_blank" class="navbar-search"> <input type="hidden" name="sitesearch" value="https://linux1st.com/"/><input type="text" class="search-query" placeholder="Search" name="q" id="tipue_search_input"></form></li>

                            </ul>
                        </div>
                    </div>
                </div>
            </div>
            <div class="container-fluid">
                <div class="row-fluid">
                    <div class="span1"></div>
                    <div class="span10">
<article itemscope>
<div class="row-fluid">
    <header class="page-header span10 offset2">
        <h1>
            <a href="./1046-create-and-change-hard-and-symbolic-links.html">
                104.6 Create and change hard and symbolic links
            </a>
        </h1>
    </header>
</div>

<div class="row-fluid">
        <div class="span8 offset2 article-content">
            
            <p><em>weight: 2</em></p>
<p>Candidates should be able to create and manage hard and symbolic links to a file.</p>
<h3>Key Knowledge Areas</h3>
<ul>
<li>Create links.</li>
<li>Identify hard and/or softlinks.</li>
<li>Copying versus linking files.</li>
<li>
<p>Use links to support system administration tasks.</p>
</li>
<li>
<p><code>ln</code></p>
</li>
<li><code>unlink</code></li>
</ul>
<h2>links</h2>
<p>On a storage device, a file or directory is saved on some block and a reference to it is saved in the FAT, ext, ... allocation table alongside data about its owner, permissions, when it was last accessed, its size and such. As you already know, we can check this using the <code>ls</code> command.</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>ls<span class="w"> </span>-i<span class="w"> </span>script.sh
<span class="m">785379</span><span class="w"> </span>script.sh
$<span class="w"> </span>ls<span class="w"> </span>-l<span class="w"> </span>script.sh
-rwxr--r-t<span class="w"> </span><span class="m">1</span><span class="w"> </span>jadi<span class="w"> </span>adm<span class="w"> </span><span class="m">34</span><span class="w"> </span>Mar<span class="w">  </span><span class="m">5</span><span class="w"> </span><span class="m">13</span>:38<span class="w"> </span>script.sh
$<span class="w"> </span>ls<span class="w"> </span>-R
.:
check_tr181_file.php<span class="w">  </span>etc_apparmom.tar<span class="w">  </span>index.html<span class="w">  </span>php_checker<span class="w">  </span>script.sh<span class="w">  </span>test.csv<span class="w">  </span>w

./php_checker:
check_tr181_file.php<span class="w">  </span>index.html<span class="w">  </span>test.csv

./w:
</code></pre></div>

<p>But it is also possible to create links. A link is simply an additional directory entry for a file or directory:</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>ls<span class="w"> </span>-l
total<span class="w"> </span><span class="m">4</span>
-rwxr-xr-x<span class="w"> </span><span class="m">1</span><span class="w"> </span>jadi<span class="w"> </span>adm<span class="w"> </span><span class="m">34</span><span class="w"> </span>Mar<span class="w">  </span><span class="m">5</span><span class="w"> </span><span class="m">13</span>:38<span class="w"> </span>script.sh
$<span class="w"> </span>ln<span class="w"> </span>-s<span class="w"> </span>script.sh<span class="w"> </span>copy_of_script.sh
$<span class="w"> </span>ls<span class="w"> </span>-ltrh
total<span class="w"> </span><span class="m">4</span>.0K
-rwxr-xr-x<span class="w"> </span><span class="m">1</span><span class="w"> </span>jadi<span class="w"> </span>adm<span class="w">  </span><span class="m">34</span><span class="w"> </span>Mar<span class="w">  </span><span class="m">5</span><span class="w"> </span><span class="m">13</span>:38<span class="w"> </span>script.sh
lrwxrwxrwx<span class="w"> </span><span class="m">1</span><span class="w"> </span>jadi<span class="w"> </span>jadi<span class="w">  </span><span class="m">9</span><span class="w"> </span>Mar<span class="w">  </span><span class="m">6</span><span class="w"> </span><span class="m">11</span>:31<span class="w"> </span>copy_of_script.sh<span class="w"> </span>-&gt;<span class="w"> </span>script.sh
$<span class="w"> </span>ls<span class="w"> </span>-i
<span class="m">785349</span><span class="w"> </span>copy_of_script.sh<span class="w">  </span><span class="m">785379</span><span class="w"> </span>script.sh
</code></pre></div>

<p>A link is simply an additional directory entry for a file or directory, allowing two or more names for the same file. A <strong>hard link</strong> is a directory entry that points to an inode, while a <strong>soft link or symbolic link</strong> is a directory entry that points to an inode that provides the name of another directory entry. The exact mechanism for storing the second name may depend on both the file system and the length of the name. Symbolic links are also called symlinks.</p>
<p>Soft links, or symlinks, merely point to another file or directory by name rather than by inode. Soft links can cross file system boundaries.</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>vi<span class="w"> </span>new_file
$<span class="w"> </span>ls<span class="w"> </span>-ltrh
total<span class="w"> </span><span class="m">4</span>.0K
-rw-------<span class="w"> </span><span class="m">1</span><span class="w"> </span>jadi<span class="w"> </span>jadi<span class="w"> </span><span class="m">9</span><span class="w"> </span>Mar<span class="w">  </span><span class="m">6</span><span class="w"> </span><span class="m">11</span>:37<span class="w"> </span>new_file
$<span class="w"> </span>ln<span class="w"> </span>new_file<span class="w"> </span>hard_link
$<span class="w"> </span>ln<span class="w"> </span>-s<span class="w"> </span>new_file<span class="w"> </span>soft_link
$<span class="w"> </span>ls<span class="w"> </span>-ltrh
total<span class="w"> </span><span class="m">8</span>.0K
-rw-------<span class="w"> </span><span class="m">2</span><span class="w"> </span>jadi<span class="w"> </span>jadi<span class="w"> </span><span class="m">9</span><span class="w"> </span>Mar<span class="w">  </span><span class="m">6</span><span class="w"> </span><span class="m">11</span>:37<span class="w"> </span>new_file
-rw-------<span class="w"> </span><span class="m">2</span><span class="w"> </span>jadi<span class="w"> </span>jadi<span class="w"> </span><span class="m">9</span><span class="w"> </span>Mar<span class="w">  </span><span class="m">6</span><span class="w"> </span><span class="m">11</span>:37<span class="w"> </span>hard_link
lrwxrwxrwx<span class="w"> </span><span class="m">1</span><span class="w"> </span>jadi<span class="w"> </span>jadi<span class="w"> </span><span class="m">8</span><span class="w"> </span>Mar<span class="w">  </span><span class="m">6</span><span class="w"> </span><span class="m">11</span>:37<span class="w"> </span>soft_link<span class="w"> </span>-&gt;<span class="w"> </span>new_file
$<span class="w"> </span>rm<span class="w"> </span>new_file
$<span class="w"> </span>ls<span class="w"> </span>-ltrh
total<span class="w"> </span><span class="m">4</span>.0K
-rw-------<span class="w"> </span><span class="m">1</span><span class="w"> </span>jadi<span class="w"> </span>jadi<span class="w"> </span><span class="m">9</span><span class="w"> </span>Mar<span class="w">  </span><span class="m">6</span><span class="w"> </span><span class="m">11</span>:37<span class="w"> </span>hard_link
lrwxrwxrwx<span class="w"> </span><span class="m">1</span><span class="w"> </span>jadi<span class="w"> </span>jadi<span class="w"> </span><span class="m">8</span><span class="w"> </span>Mar<span class="w">  </span><span class="m">6</span><span class="w"> </span><span class="m">11</span>:37<span class="w"> </span>soft_link<span class="w"> </span>-&gt;<span class="w"> </span>new_file
$<span class="w"> </span>cat<span class="w"> </span>hard_link
new<span class="w"> </span>file
$<span class="w"> </span>cat<span class="w"> </span>soft_link
cat:<span class="w"> </span>soft_link:<span class="w"> </span>No<span class="w"> </span>such<span class="w"> </span>file<span class="w"> </span>or<span class="w"> </span>directory
</code></pre></div>

<blockquote>
<p>Note the <code>l</code> as the first character in <code>ls -l</code>'s permission list when we have a symbolic link.</p>
</blockquote>
<p>You can create hard links only for files, not for directories. The exception is the special directory entries in a directory for the directory itself and for its parent (<code>.</code> and <code>..</code>)</p>
<blockquote>
<p>You will get an error if you attempt to create hard links that cross file systems or that are for directories.</p>
</blockquote>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>ln<span class="w"> </span>mydir<span class="w"> </span>link2dir<span class="w"> </span><span class="c1"># ln: mydir: hard link not allowed for director</span>
$<span class="w"> </span>ln<span class="w"> </span>-s<span class="w"> </span>mydir<span class="w"> </span>link2dir<span class="w"> </span><span class="c1"># works just fine</span>
</code></pre></div>

<p>If you are using relative names, you will usually want the current working directory to be the directory where you are creating the link; otherwise, the link you create will be relative to another point in the file system.</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>ln<span class="w"> </span>-s<span class="w"> </span>myfile.txt<span class="w"> </span>mydir/<span class="w"> </span><span class="c1">#broken link</span>
$<span class="w"> </span><span class="nb">cd</span><span class="w"> </span>mydir<span class="w"> </span>
$<span class="w"> </span>ln<span class="w"> </span>-s<span class="w"> </span>../myfile.txt<span class="w"> </span>.
</code></pre></div>

<p>It's recommended to use exact path for links.</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>ln<span class="w"> </span>-s<span class="w"> </span>/tmp/myfile.txt<span class="w"> </span>/tmp/Foo/Bar/myfile.txt
$<span class="w"> </span>ls<span class="w"> </span>-l<span class="w"> </span>/tmp/Foo/Bar/myfile.txt<span class="w"> </span>
lrwxrwxrwx.<span class="w"> </span><span class="m">1</span><span class="w"> </span>jadi<span class="w"> </span>jadi<span class="w"> </span><span class="m">9</span><span class="w"> </span>Mar<span class="w">  </span><span class="m">6</span><span class="w"> </span><span class="m">12</span>:37<span class="w"> </span>/tmp/Foo/Bar/myfile.txt<span class="w"> </span>-&gt;<span class="w"> </span>/tmp/myfile.txt
</code></pre></div>

<p>we can find symbolic links using the <code>find</code> command:</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>find<span class="w"> </span>.<span class="w"> </span>-type<span class="w"> </span>l
</code></pre></div>

<p>They are highly used to keep one specific name pointing to a changing binary name. For example we always need to be able to run <code>python3</code> so we point it to the latest installed python on the system:</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>which<span class="w"> </span>python3
/usr/bin/python3
$<span class="w"> </span>ls<span class="w"> </span>-l<span class="w"> </span>/usr/bin/python3
lrwxrwxrwx<span class="w"> </span><span class="m">1</span><span class="w"> </span>root<span class="w"> </span>root<span class="w"> </span><span class="m">10</span><span class="w"> </span>Mar<span class="w"> </span><span class="m">25</span><span class="w">  </span><span class="m">2022</span><span class="w"> </span>/usr/bin/python3<span class="w"> </span>-&gt;<span class="w"> </span>python3.10
</code></pre></div>

<p>To remove links, you can use the <code>rm</code> or <code>unlink</code> command.</p>


             
 
            
            
            







            <hr/>

            <!-- show next and previous links -->
            <table style="background: white; border: 0; font-size: 0.8em;"><tr>
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                <td style="background: white; border: 0;">
                            <a href="./1045-manage-file-permissions-and-ownership.html">â 104.5 Manage file permissions and ownership</a>
                </td>
                <td style="background: white; border: 0;"><center ><a href="/archives.html">Chapter List</a></center></td>
                <td style="background: white; border: 0; text-align: right;">
                            <a href="./1047-find-system-files-and-place-files-in-the-correct-location.html">104.7 Find system files and place files in the correct location â</a>
                </td>
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
            </tr></table>
            
            <hr />


	<div class=comment>

<div id="disqus_thread"></div>
<script>
    (function() { // DON'T EDIT BELOW THIS LINE
    var d = document, s = d.createElement('script');
    s.src = 'https://linux1st.disqus.com/embed.js';
    s.setAttribute('data-timestamp', +new Date());
    (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>


	</div>
        </div>
        <section id="article-sidebar" class="span2">
            <h4>Category</h4>
            <a class="category-link" href="./categories.html#lpic1-ref">LPIC1</a>
            <h4>Tags</h4>
            <ul class="list-of-tags tags-in-article">
                <li><a href="./tags.html#101-ref">101
                    <span class="superscript">19</span>
</a></li>
                <li><a href="./tags.html#lpic1-ref">LPIC1
                    <span class="superscript">42</span>
</a></li>
                <li><a href="./tags.html#lpic1-101-500-ref">LPIC1-101-500
                    <span class="superscript">22</span>
</a></li>
            </ul>
<h4>Contact</h4>
<div id="sidebar-social-link">
</div>
            





            





        </section>
</div>
</article>
<!-- Root element of PhotoSwipe. Must have class pswp. -->
<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

    <!-- Background of PhotoSwipe.
         It's a separate element as animating opacity is faster than rgba(). -->
    <div class="pswp__bg"></div>

    <!-- Slides wrapper with overflow:hidden. -->
    <div class="pswp__scroll-wrap">

        <!-- Container that holds slides.
            PhotoSwipe keeps only 3 of them in the DOM to save memory.
            Don't modify these 3 pswp__item elements, data is added later on. -->
        <div class="pswp__container">
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
        </div>

        <!-- Default (PhotoSwipeUI_Default) interface on top of sliding area. Can be changed. -->
        <div class="pswp__ui pswp__ui--hidden">

            <div class="pswp__top-bar">

                <!--  Controls are self-explanatory. Order can be changed. -->

                <div class="pswp__counter"></div>

                <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>

                <button class="pswp__button pswp__button--share" title="Share"></button>

                <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>

                <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>

                <!-- Preloader demo https://codepen.io/dimsemenov/pen/yyBWoR -->
                <!-- element will get class pswp__preloader--active when preloader is running -->
                <div class="pswp__preloader">
                    <div class="pswp__preloader__icn">
                      <div class="pswp__preloader__cut">
                        <div class="pswp__preloader__donut"></div>
                      </div>
                    </div>
                </div>
            </div>

            <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
                <div class="pswp__share-tooltip"></div>
            </div>

            <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
            </button>

            <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
            </button>

            <div class="pswp__caption">
                <div class="pswp__caption__center"></div>
            </div>

        </div>

    </div>

</div>                    </div>
                    <div class="span1"></div>
                </div>
            </div>
        </div>
<footer>




    <div id="fpowered">
        Powered by: <a href="http://getpelican.com/" title="Pelican Home Page" target="_blank" rel="nofollow noopener noreferrer">Pelican</a>
        Theme: <a href="https://elegant.oncrashreboot.com/" title="Theme Elegant Home Page" target="_blank" rel="nofollow noopener noreferrer">Elegant</a>
    </div>
</footer>            <script src="//code.jquery.com/jquery.min.js"></script>
        <script src="//netdna.bootstrapcdn.com/twitter-bootstrap/2.3.2/js/bootstrap.min.js"></script>
        <script src="./theme/js/elegant.prod.9e9d5ce754.js"></script>
        <script>
            function validateForm(query)
            {
                return (query.length > 0);
            }
        </script>

    <script>
    (function () {
        if (window.location.hash.match(/^#comment-\d+$/)) {
            $('#comment_thread').collapse('show');
        }
    })();
    window.onhashchange=function(){
        if (window.location.hash.match(/^#comment-\d+$/))
            window.location.reload(true);
    }
    $('#comment_thread').on('shown', function () {
        var link = document.getElementById('comment-accordion-toggle');
        var old_innerHTML = link.innerHTML;
        $(link).fadeOut(200, function() {
            $(this).text('Click here to hide comments').fadeIn(200);
        });
        $('#comment_thread').on('hidden', function () {
            $(link).fadeOut(200, function() {
                $(this).text(old_innerHTML).fadeIn(200);
            });
        })
    })
</script>

    </body>
    <!-- Theme: Elegant built for Pelican
        License : MIT -->
</html>