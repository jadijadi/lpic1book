<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link rel="stylesheet" type="text/css" href="./theme/css/elegant.prod.9e9d5ce754.css" media="screen">
        <link rel="stylesheet" type="text/css" href="./theme/css/custom.css" media="screen">

        <link rel="dns-prefetch" href="//fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com/" crossorigin>

        <meta name="author" content="Jadi" />

        <meta property="og:type" content="article" />
        <meta name="twitter:card" content="summary">

<meta name="keywords" content="LPIC1, 102, LPIC1-102-500, LPIC1, " />

<meta property="og:title" content="107.2 Automate system administration tasks by scheduling jobs "/>
<meta property="og:url" content="./1072-automate-system-administration-tasks-by-scheduling-jobs.html" />
<meta property="og:description" content="" />
<meta property="og:site_name" content="lpic1book" />
<meta property="og:article:author" content="Jadi" />
<meta property="og:article:published_time" content="2010-12-03T10:20:00+01:00" />
<meta name="twitter:title" content="107.2 Automate system administration tasks by scheduling jobs ">
<meta name="twitter:description" content="">

        <title>107.2 Automate system administration tasks by scheduling jobs  · lpic1book
</title>



        
        <!-- Global site tag (gtag.js) - Google Analytics -->
        <script async src="https://www.googletagmanager.com/gtag/js?id=G-4CZV14VZXW"></script>
        <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'G-4CZV14VZXW');
        </script>
        
    </head>
    <body>
        <div id="content">
            <div class="navbar navbar-static-top">
                <div class="navbar-inner">
                    <div class="container-fluid">
                        <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                            <span class="icon-bar"></span>
                            <span class="icon-bar"></span>
                            <span class="icon-bar"></span>
                        </a>
                        <a class="brand" href="./"><span class=site-name>lpic1book</span></a>
                        <div class="nav-collapse collapse">
                            <ul class="nav pull-right top-menu">
                                <li >
                                </li>
                                <li ><a href="./">LPIC1 Book</a></li>
                                <li ><a href="./">Home</a></li>
                                <li ><a href="./support">Support/Donate</a></li>
                                <li ><a href="./archives.html">Chapters</a></li>
                                <li ><a href="./tags.html">Tags</a></li>
                                <li><form action="https://www.google.com/search" method="get" target="_blank" class="navbar-search"> <input type="hidden" name="sitesearch" value="https://linux1st.com/"/><input type="text" class="search-query" placeholder="Search" name="q" id="tipue_search_input"></form></li>

                            </ul>
                        </div>
                    </div>
                </div>
            </div>
            <div class="container-fluid">
                <div class="row-fluid">
                    <div class="span1"></div>
                    <div class="span10">
<article itemscope>
<div class="row-fluid">
    <header class="page-header span10 offset2">
        <h1>
            <a href="./1072-automate-system-administration-tasks-by-scheduling-jobs.html">
                107.2 Automate system administration tasks by scheduling jobs
            </a>
        </h1>
    </header>
</div>

<div class="row-fluid">
        <div class="span8 offset2 article-content">
            
            <p><em>Weight: 4</em></p>
<p>Candidates should be able to use cron and systemd timers to run jobs at regular intervals and to use at to run jobs at a specific time.</p>
<h3>Key Knowledge Areas</h3>
<ul>
<li>Manage cron and at jobs.</li>
<li>Configure user access to cron and at services.</li>
<li>Understand systemd timer units.</li>
</ul>
<h3>Terms and Utilities</h3>
<ul>
<li><code>/etc/cron.{d,daily,hourly,monthly,weekly}/</code></li>
<li><code>/etc/at.deny</code></li>
<li><code>/etc/at.allow</code></li>
<li><code>/etc/crontab</code></li>
<li><code>/etc/cron.allow</code></li>
<li><code>/etc/cron.deny</code></li>
<li><code>/var/spool/cron/</code></li>
<li><code>crontab</code></li>
<li><code>at</code></li>
<li><code>atq</code></li>
<li><code>atrm</code></li>
<li>systemctl</li>
<li>systemd-run</li>
</ul>
<iframe width="560" height="315" src="https://www.youtube.com/embed/jIgJ-l_HMgE" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe>

<p>There are many cases where we need to run some commands at specific times or intervals. For example you may want to run your backup process every morning at 03:00 or refresh the list of files on your web index on hourly basis.</p>
<p>There are different methods to do so in the Linux world. The most commons are the <code>crontab</code> to run tasks on specific intervals, <code>at</code> to run a commands on specific time and also utilities provided by <code>systemd</code>.</p>
<h3>Crontab format</h3>
<p>Crontab works with a configuration file which tells it when to run a command. For example you can say "run my commands when the hour is 03 and the minute is 00" or "run my command when its Saturday and Hour is 10 and minute is 00" or "Run whenever the minute is 00". </p>
<p>Each crontab configuration line has 6 fields. The first 5 specify a specific interval and whatever after than is used as the "command".</p>
<div class="highlight"><pre><span></span><code>A    B    C    D    E    command and arguments
</code></pre></div>

<table>
<thead>
<tr>
<th align="center">filed</th>
<th align="left">Meaning</th>
<th align="left">values</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center">A</td>
<td align="left">minute</td>
<td align="left">0-59</td>
</tr>
<tr>
<td align="center">B</td>
<td align="left">hour</td>
<td align="left">0-23</td>
</tr>
<tr>
<td align="center">C</td>
<td align="left">day of month</td>
<td align="left">1-31</td>
</tr>
<tr>
<td align="center">D</td>
<td align="left">month</td>
<td align="left">1-12 (or names, see below)</td>
</tr>
<tr>
<td align="center">E</td>
<td align="left">day of week</td>
<td align="left">0-7 (0 or 7 is Sunday, or use names)</td>
</tr>
</tbody>
</table>
<p>If you replace a field with <code>*</code> it means "whatever" or "all" or "any". Also if you have <code>@reboot</code> or <code>@daily</code> instead of time fields, the command will be run once after the reboot or daily. Lets see some examples:</p>
<div class="highlight"><pre><span></span><code>5 0 * * *       $HOME/bin/daily.job &gt;&gt; $HOME/tmp/out 2&gt;&amp;1

# run at 2:15pm on the first of every month -- output mailed to paul
15 14 1 * *     $HOME/bin/monthly

# run at 10 pm on weekdays, annoy Joe
0 22 * * 1-5    mail -s &quot;It&#39;s 10pm&quot; joe%Joe,%%Where are your kids?%

23 0-23/2 * * * echo &quot;run 23 minutes after midn, 2am, 4am ..., everyday&quot;
5 4 * * sun     echo &quot;run at 5 after 4 every sunday&quot;

*/5 * * * *    echo &quot;each 5 mintues&quot;

42 8,18 * * 1-5    echo &quot;8:42 and 18:42 and only on weekdays (monday till friday)&quot;

@reboot        echo &quot;runs after the reboot&quot;
</code></pre></div>

<p>As you can see in above examples, <code>/</code> can be used to slice the time (so <code>*/5</code> in minutes means every five minutes) or use the <code>,</code> to indicate more than one number (so <code>8,18</code> means 8 and 18).</p>
<blockquote>
<p>When using <code>*</code> on the first filed, you are running your command on every minute.</p>
<p>Something like <code>42 8 1 1 0</code> runs ONLY when the 1st of Jan is a Sunday!</p>
</blockquote>
<p>When a cron runs, the output will be emailed to the owner of the cron.</p>
<h3>user specific crons</h3>
<p>Cron is a linux service. To see your crons you can use <code>crontab -l</code> (list) and for editing them you can use <code>crontab -e</code> (edit) which will open the cron files with a special editor and will validate and then load your crons after you are finished.</p>
<p>The files will be saved at <code>/var/spool/cron/tabs/</code> or <code>/var/spool/crontabs</code>:</p>
<div class="highlight"><pre><span></span><code># cat /var/spool/cron/tabs/jadi
# DO NOT EDIT THIS FILE - edit the master and reinstall.
# (/tmp/crontab.khObLu installed on Thu Oct 29 22:04:43 2023)
# (Cronie version 4.2)
# Example of job definition:
# .---------------- minute (0 - 59)
# |  .------------- hour (0 - 23)
# |  |  .---------- day of month (1 - 31)
# |  |  |  .------- month (1 - 12) OR jan,feb,mar,apr ...
# |  |  |  |  .---- day of week (0 - 6) (Sunday=0 or 7) OR sun,mon,tue,wed,thu,fri,sat
# |  |  |  |  |
# *  *  *  *  * command to be executed
* * * * * date &gt;&gt; /tmp/date.cron.txt
</code></pre></div>

<blockquote>
<p>never edit these files directly; Use <code>crontab -e</code> instead.</p>
</blockquote>
<h3>system wide cron</h3>
<p>There is file called <code>/etc/crontab</code>. This looks like a normal user file opened with <code>crontab -e</code> but has one extra filed:</p>
<div class="highlight"><pre><span></span><code>A    B    C    D    E    USER    command and arguments
</code></pre></div>

<p>This file should be edited with an editor directly and we can mention which user runs this commands.</p>
<div class="highlight"><pre><span></span><code># cat /etc/crontab
SHELL=/bin/sh
PATH=/usr/bin:/usr/sbin:/sbin:/bin:/usr/lib/news/bin
MAILTO=root
#
# check scripts in cron.hourly, cron.daily, cron.weekly, and cron.monthly
#
-*/15 * * * *   root  test -x /usr/lib/cron/run-crons &amp;&amp; /usr/lib/cron/run-crons &gt;/dev/null 2&gt;&amp;1
</code></pre></div>

<blockquote>
<p>Note: Have a look at the first three lines. It configures the shell which will run the commands and the PATH variable plus who will get the output emails.</p>
</blockquote>
<p>As you can see this default crontab runs other crons! These are hourly, daily, weekly and monthly crons. Lets have a look at them in the next section.</p>
<h3>System hourly, daliy, weekly, monthly, .. crons</h3>
<p>We have some system level crontab files in <code>/etc/cron.d/</code> too. They look like general crontab files. For example this is one that <code>munin</code> program creates:</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>cat<span class="w"> </span>/etc/cron.d/munin
<span class="c1">#</span>
<span class="c1"># cron-jobs for munin</span>
<span class="c1">#</span>

<span class="nv">MAILTO</span><span class="o">=</span>root

*/5<span class="w"> </span>*<span class="w"> </span>*<span class="w"> </span>*<span class="w"> </span>*<span class="w">     </span>munin<span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="o">[</span><span class="w"> </span>-x<span class="w"> </span>/usr/bin/munin-cron<span class="w"> </span><span class="o">]</span><span class="p">;</span><span class="w"> </span><span class="k">then</span><span class="w"> </span>/usr/bin/munin-cron<span class="p">;</span><span class="w"> </span><span class="k">fi</span>
<span class="m">14</span><span class="w"> </span><span class="m">10</span><span class="w"> </span>*<span class="w"> </span>*<span class="w"> </span>*<span class="w">     </span>munin<span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="o">[</span><span class="w"> </span>-x<span class="w"> </span>/usr/share/munin/munin-limits<span class="w"> </span><span class="o">]</span><span class="p">;</span><span class="w"> </span><span class="k">then</span><span class="w"> </span>/usr/share/munin/munin-limits<span class="w"> </span>--force<span class="w"> </span>--contact<span class="w"> </span>nagios<span class="w"> </span>--contact<span class="w"> </span>old-nagios<span class="p">;</span><span class="w"> </span><span class="k">fi</span>
<span class="m">19</span>:12:37<span class="w"> </span>jadi@ocean:~$<span class="w"> </span>cat<span class="w"> </span>/etc/cron.weekly/man-db
</code></pre></div>

<p>But there are also directories called <code>cron.hourly</code>, <code>cron.daily</code>, <code>cron.weekly</code> &amp; <code>cron.monthly</code>. As their name indicates, whatever script / file you put in them, will be run hourly, daily, weekly &amp; monthly. This makes general cleanup, backup, ... tasks much cleaner. Its enough to copy your script in any of these directories and let them run on these intervals.</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>sudo<span class="w"> </span>tree<span class="w"> </span>/etc/cron*
/etc/cron.d
├──<span class="w"> </span>munin
├──<span class="w"> </span>munin-node
├──<span class="w"> </span>php5
└──<span class="w"> </span>sendmail
/etc/cron.daily
├──<span class="w"> </span>apache2
├──<span class="w"> </span>apport
├──<span class="w"> </span>apt
├──<span class="w"> </span>aptitude
├──<span class="w"> </span>bsdmainutils
├──<span class="w"> </span>dpkg
├──<span class="w"> </span>logrotate
├──<span class="w"> </span>man-db
├──<span class="w"> </span>mlocate
├──<span class="w"> </span>passwd
├──<span class="w"> </span>popularity-contest
├──<span class="w"> </span>sendmail
├──<span class="w"> </span>update-notifier-common
└──<span class="w"> </span>upstart
/etc/cron.hourly
/etc/cron.monthly
/etc/crontab<span class="w"> </span><span class="o">[</span>error<span class="w"> </span>opening<span class="w"> </span>dir<span class="o">]</span>
/etc/cron.weekly
├──<span class="w"> </span>apt-xapian-index
├──<span class="w"> </span>fstrim
├──<span class="w"> </span>man-db
└──<span class="w"> </span>update-notifier-common
</code></pre></div>

<p>Lets have a look at one of the cron.d files:</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>cat<span class="w"> </span>/etc/cron.daily/mlocate
<span class="c1">#! /bin/bash</span>

<span class="nb">set</span><span class="w"> </span>-e

<span class="o">[</span><span class="w"> </span>-x<span class="w"> </span>/usr/bin/updatedb.mlocate<span class="w"> </span><span class="o">]</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="nb">exit</span><span class="w"> </span><span class="m">0</span>

<span class="k">if</span><span class="w"> </span>which<span class="w"> </span>on_ac_power<span class="w"> </span>&gt;/dev/null<span class="w"> </span><span class="m">2</span>&gt;<span class="p">&amp;</span><span class="m">1</span><span class="p">;</span><span class="w"> </span><span class="k">then</span>
<span class="w">    </span><span class="nv">ON_BATTERY</span><span class="o">=</span><span class="m">0</span>
<span class="w">    </span>on_ac_power<span class="w"> </span>&gt;/dev/null<span class="w"> </span><span class="m">2</span>&gt;<span class="p">&amp;</span><span class="m">1</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="nv">ON_BATTERY</span><span class="o">=</span><span class="nv">$?</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="o">[</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$ON_BATTERY</span><span class="s2">&quot;</span><span class="w"> </span>-eq<span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="o">]</span><span class="p">;</span><span class="w"> </span><span class="k">then</span>
<span class="w">    </span><span class="nb">exit</span><span class="w"> </span><span class="m">0</span>
<span class="w">    </span><span class="k">fi</span>
<span class="k">fi</span>

<span class="c1"># See ionice(1)</span>
<span class="k">if</span><span class="w"> </span><span class="o">[</span><span class="w"> </span>-x<span class="w"> </span>/usr/bin/ionice<span class="w"> </span><span class="o">]</span><span class="w"> </span><span class="o">&amp;&amp;</span>
<span class="w">    </span>/usr/bin/ionice<span class="w"> </span>-c3<span class="w"> </span><span class="nb">true</span><span class="w"> </span><span class="m">2</span>&gt;/dev/null<span class="p">;</span><span class="w"> </span><span class="k">then</span>
<span class="w">    </span><span class="nv">IONICE</span><span class="o">=</span><span class="s2">&quot;/usr/bin/ionice -c3&quot;</span>
<span class="k">fi</span>

flock<span class="w"> </span>--nonblock<span class="w"> </span>/run/mlocate.daily.lock<span class="w"> </span><span class="nv">$IONICE</span><span class="w"> </span>/usr/bin/updatedb.mlocate
</code></pre></div>

<h3>at</h3>
<p>We say that crontab runs commands on specific intervals but what will happen if you needed to run a command only once? Here <code>at</code> is your friend.</p>
<div class="highlight"><pre><span></span><code>$ at now + 1 min
warning: commands will be executed using /bin/sh
at&gt; touch /tmp/at
at&gt; &lt;EOT&gt;
job 3 at Thu Oct 29 22:12:00 2015
</code></pre></div>

<blockquote>
<p>Note: As always, at the end of input we press Ctrl+D</p>
</blockquote>
<p>If you want to check what is in the queue you can use <code>atq</code> and then try <code>atrm 4</code> to delete job number 4;</p>
<div class="highlight"><pre><span></span><code>$ at teatime
warning: commands will be executed using /bin/sh
at&gt; echo &quot;tea time is 4pm&quot;
at&gt; &lt;EOT&gt;
job 4 at Fri Oct 30 16:00:00 2015
jadi@funlife:~$ at tomorrow
warning: commands will be executed using /bin/sh
at&gt; echo &quot;tomorrow this time&quot;
at&gt; &lt;EOT&gt;
job 5 at Fri Oct 30 22:15:00 2015
jadi@funlife:~$ at 17:30
warning: commands will be executed using /bin/sh
at&gt; echo &quot;this is the first 17:30&quot;
at&gt; &lt;EOT&gt;
job 6 at Fri Oct 30 17:30:00 2015
jadi@funlife:~$ atq
5    Fri Oct 30 22:15:00 2015 a jadi
4    Fri Oct 30 16:00:00 2015 a jadi
6    Fri Oct 30 17:30:00 2015 a jadi
jadi@funlife:~$ atrm 4
jadi@funlife:~$ atq
5    Fri Oct 30 22:15:00 2015 a jadi
6    Fri Oct 30 17:30:00 2015 a jadi
</code></pre></div>

<h3>managing cron access</h3>
<p>To control the access to the cron system, we have 4 files:</p>
<div class="highlight"><pre><span></span><code>/etc/cron.allow
/etc/cron.deny

/etc/at.allow
/etc/at.deny
</code></pre></div>

<p>In most systems none of these files exist but if you create them, they will become active as follow:</p>
<table>
<thead>
<tr>
<th align="left">file extension</th>
<th align="left">functionality</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left">.allow</td>
<td align="left">ONLY users mentioned in this file are allowed to run this service. All other users will be denied</td>
</tr>
<tr>
<td align="left">.deny</td>
<td align="left">Everybody can use the service except the users mentioned in this file</td>
</tr>
</tbody>
</table>
<h2>systemd &amp; systemd-run</h2>
<p>Nowadays most GNU/Linux distributions use <code>systemd</code> which has its own <strong>timers</strong> as an alternative to cron to schedule your tasks. Timer unit files use the <code>.timer</code> suffix, and for each of these there must be a corresponding unit file which describes the unit to be activated when the timer activates. By default, a timer activates a service with the same name, except for the suffix.</p>
<p>Timers have a [Timer] section that specifies when scheduled jobs should run. There are two types of timers. One is the <strong>readl-time timer</strong> which works with <code>OnCalendar=</code> option and defines kind of close to cron timers (based on calendar event expressions). This is the syntax:</p>
<div class="highlight"><pre><span></span><code>OnCalendar=DayOfWeek Year-Month-Day Hour:Minute:Second
</code></pre></div>

<blockquote>
<p>DayOfWeek is optional and you can use a 3 letter abbreviation (say Mon)</p>
</blockquote>
<p>The <code>*</code>, <code>/</code> and <code>,</code> work the same in systemd and cron configurations but in systemd you can also use <code>..</code> between two values to indicate a contiguous range. </p>
<p>For example, to run the service named <code>/etc/systemd/system/myservice.service</code> at 02:42 on the first Saturday of each month, this config line should be added to the <code>/etc/systemd/system/myservice.timer</code> unit file.</p>
<div class="highlight"><pre><span></span><code><span class="k">[Unit]</span>
<span class="na">Description</span><span class="o">=</span><span class="s">Run the blah blah service</span>

<span class="k">[Timer]</span>
<span class="na">OnCalendar</span><span class="o">=</span><span class="s">Sat *-*-1..7 02:42:00</span>
<span class="na">Persistent</span><span class="o">=</span><span class="s">true</span>

<span class="k">[Install]</span>
<span class="na">WantedBy</span><span class="o">=</span><span class="s">timers.target</span>
</code></pre></div>

<p>It is also possible to define <strong>monotonic</strong> timers. They activate after some time has elapsed from a specific start point (say when the machine was booted up or when the timer itself is activated). You can chose between any of the following:</p>
<table>
<thead>
<tr>
<th>config</th>
<th>meaning</th>
</tr>
</thead>
<tbody>
<tr>
<td>OnActiveSec</td>
<td>time after unit activation</td>
</tr>
<tr>
<td>OnBootSec</td>
<td>time after system boot</td>
</tr>
<tr>
<td>OnStartupSec</td>
<td>time after the service manager is started. For system services, this is almost equal to OnActiveSec. Use this for user services where the service manager is started at user login.</td>
</tr>
<tr>
<td>OnUnitActiveSec</td>
<td>time after the corresponding service was last activated</td>
</tr>
<tr>
<td>OnUnitInactiveSec</td>
<td>time after the  corresponding service was last deactivated</td>
</tr>
</tbody>
</table>
<p>And you can use any of usec, msec, seconds, minutes, hours, days, weeks, months, years in front. So for example the </p>
<div class="highlight"><pre><span></span><code><span class="k">[Timer]</span>
<span class="na">OnUnitActiveSec</span><span class="o">=</span><span class="s">5minutes 20seconds</span>
</code></pre></div>

<p>will activate the corresponding unit 5min and 20secs after the last activation of this unit service.</p>
<p>Please note that after adding any timer, you need to enable (and probably start) it:</p>
<div class="highlight"><pre><span></span><code># systemctl enable myservice.timer
# systemctl start myservice.timer
</code></pre></div>

<p>And also do not forget to do a <code>systemctl daemon-reload</code> after each change.</p>
<p>To check all the scheduled jobs, run the <code>systemctl list-timers</code> command. This will show you all the active timers. Use the <code>--all</code> switch to check all.</p>
<p>There are few shortcuts for times too. You can use these instead of the cron format to set timers:</p>
<table>
<thead>
<tr>
<th>shortcut</th>
<th>when it runs</th>
</tr>
</thead>
<tbody>
<tr>
<td>hourly</td>
<td>beginning of each hour</td>
</tr>
<tr>
<td>daily</td>
<td>One a day at midnight</td>
</tr>
<tr>
<td>weekly</td>
<td>midnight on Monday</td>
</tr>
<tr>
<td>monthly</td>
<td>midnight on the 1st of each month</td>
</tr>
<tr>
<td>yearly</td>
<td>midnight on the 1st of Jan</td>
</tr>
</tbody>
</table>
<p>This is one example from a recent Fedora installation:</p>
<div class="highlight"><pre><span></span><code><span class="err">#</span><span class="w"> </span><span class="n">cat</span><span class="w"> </span><span class="k">system</span><span class="o">/</span><span class="n">timers</span><span class="p">.</span><span class="n">target</span><span class="p">.</span><span class="n">wants</span><span class="o">/</span><span class="n">plocate</span><span class="o">-</span><span class="n">updatedb</span><span class="p">.</span><span class="n">timer</span><span class="w"> </span>
<span class="o">[</span><span class="n">Unit</span><span class="o">]</span>
<span class="n">Description</span><span class="o">=</span><span class="k">Update</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">plocate</span><span class="w"> </span><span class="k">database</span><span class="w"> </span><span class="n">daily</span>

<span class="o">[</span><span class="n">Timer</span><span class="o">]</span>
<span class="n">OnCalendar</span><span class="o">=</span><span class="n">daily</span>
<span class="n">RandomizedDelaySec</span><span class="o">=</span><span class="mi">12</span><span class="n">h</span>
<span class="n">AccuracySec</span><span class="o">=</span><span class="mi">20</span><span class="nf">min</span>
<span class="n">Persistent</span><span class="o">=</span><span class="k">true</span>

<span class="o">[</span><span class="n">Install</span><span class="o">]</span>
<span class="n">WantedBy</span><span class="o">=</span><span class="n">timers</span><span class="p">.</span><span class="n">target</span>
</code></pre></div>

<p>If you want to check the output of your timers, you can use the <code>journalctl</code>.</p>
<blockquote>
<p>as any other <code>systemd</code> activity, use the <code>--user</code> switch to use it on your user level and not systemwide.</p>
</blockquote>
<p>At the end, you should know about the <code>systemd-run</code> command. It can start a transient service or scope and run specific commands in it. </p>
<p>So a command like:</p>
<div class="highlight"><pre><span></span><code>systemd-run --on-active=&quot;2hours&quot; --unit=&quot;helloworld.service&quot;
</code></pre></div>

<p>Will run the helloworld.service every 2 hours or this:</p>
<div class="highlight"><pre><span></span><code>sudo systemd-run --on-active=&quot;2hours&quot; /usr/local/bin/helloworld.sh --language=en_US
</code></pre></div>

<p>will run that specific script with shown parameters every 2 hours. </p>
<hr>
<p>Since this is new and there are not much sources about it, refer to <a href="https://documentation.suse.com/smart/systems-management/html/systemd-working-with-timers/index.html">Suse docs</a> to learn more.</p>


             
 
            
            
            







            <hr/>

            <!-- show next and previous links -->
            <table style="background: white; border: 0; font-size: 0.8em;"><tr>
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                <td style="background: white; border: 0;">
                            <a href="./1071-manage-user-and-group-accounts-and-related-system-files.html">← 107.1 Manage user and group accounts and related system files</a>
                </td>
                <td style="background: white; border: 0;"><center ><a href="/archives.html">Chapter List</a></center></td>
                <td style="background: white; border: 0; text-align: right;">
                            <a href="./1073-localisation-and-internationalisation.html">107.3 Localisation and internationalisation →</a>
                </td>
                
                
                
                
                
                
                
                
                
                
                
                
            </tr></table>
            
            <hr />


	<div class=comment>

<div id="disqus_thread"></div>
<script>
    (function() { // DON'T EDIT BELOW THIS LINE
    var d = document, s = d.createElement('script');
    s.src = 'https://linux1st.disqus.com/embed.js';
    s.setAttribute('data-timestamp', +new Date());
    (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>


	</div>
        </div>
        <section id="article-sidebar" class="span2">
            <h4>Category</h4>
            <a class="category-link" href="./categories.html#lpic1-ref">LPIC1</a>
            <h4>Tags</h4>
            <ul class="list-of-tags tags-in-article">
                <li><a href="./tags.html#102-ref">102
                    <span class="superscript">20</span>
</a></li>
                <li><a href="./tags.html#lpic1-ref">LPIC1
                    <span class="superscript">42</span>
</a></li>
                <li><a href="./tags.html#lpic1-102-500-ref">LPIC1-102-500
                    <span class="superscript">20</span>
</a></li>
            </ul>
<h4>Contact</h4>
<div id="sidebar-social-link">
</div>
            





            





        </section>
</div>
</article>
<!-- Root element of PhotoSwipe. Must have class pswp. -->
<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

    <!-- Background of PhotoSwipe.
         It's a separate element as animating opacity is faster than rgba(). -->
    <div class="pswp__bg"></div>

    <!-- Slides wrapper with overflow:hidden. -->
    <div class="pswp__scroll-wrap">

        <!-- Container that holds slides.
            PhotoSwipe keeps only 3 of them in the DOM to save memory.
            Don't modify these 3 pswp__item elements, data is added later on. -->
        <div class="pswp__container">
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
        </div>

        <!-- Default (PhotoSwipeUI_Default) interface on top of sliding area. Can be changed. -->
        <div class="pswp__ui pswp__ui--hidden">

            <div class="pswp__top-bar">

                <!--  Controls are self-explanatory. Order can be changed. -->

                <div class="pswp__counter"></div>

                <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>

                <button class="pswp__button pswp__button--share" title="Share"></button>

                <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>

                <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>

                <!-- Preloader demo https://codepen.io/dimsemenov/pen/yyBWoR -->
                <!-- element will get class pswp__preloader--active when preloader is running -->
                <div class="pswp__preloader">
                    <div class="pswp__preloader__icn">
                      <div class="pswp__preloader__cut">
                        <div class="pswp__preloader__donut"></div>
                      </div>
                    </div>
                </div>
            </div>

            <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
                <div class="pswp__share-tooltip"></div>
            </div>

            <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
            </button>

            <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
            </button>

            <div class="pswp__caption">
                <div class="pswp__caption__center"></div>
            </div>

        </div>

    </div>

</div>                    </div>
                    <div class="span1"></div>
                </div>
            </div>
        </div>
<footer>




    <div id="fpowered">
        Powered by: <a href="http://getpelican.com/" title="Pelican Home Page" target="_blank" rel="nofollow noopener noreferrer">Pelican</a>
        Theme: <a href="https://elegant.oncrashreboot.com/" title="Theme Elegant Home Page" target="_blank" rel="nofollow noopener noreferrer">Elegant</a>
    </div>
</footer>            <script src="//code.jquery.com/jquery.min.js"></script>
        <script src="//netdna.bootstrapcdn.com/twitter-bootstrap/2.3.2/js/bootstrap.min.js"></script>
        <script src="./theme/js/elegant.prod.9e9d5ce754.js"></script>
        <script>
            function validateForm(query)
            {
                return (query.length > 0);
            }
        </script>

    <script>
    (function () {
        if (window.location.hash.match(/^#comment-\d+$/)) {
            $('#comment_thread').collapse('show');
        }
    })();
    window.onhashchange=function(){
        if (window.location.hash.match(/^#comment-\d+$/))
            window.location.reload(true);
    }
    $('#comment_thread').on('shown', function () {
        var link = document.getElementById('comment-accordion-toggle');
        var old_innerHTML = link.innerHTML;
        $(link).fadeOut(200, function() {
            $(this).text('Click here to hide comments').fadeIn(200);
        });
        $('#comment_thread').on('hidden', function () {
            $(link).fadeOut(200, function() {
                $(this).text(old_innerHTML).fadeIn(200);
            });
        })
    })
</script>

    </body>
    <!-- Theme: Elegant built for Pelican
        License : MIT -->
</html>