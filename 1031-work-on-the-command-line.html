<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link rel="stylesheet" type="text/css" href="./theme/css/elegant.prod.9e9d5ce754.css" media="screen">
        <link rel="stylesheet" type="text/css" href="./theme/css/custom.css" media="screen">

        <link rel="dns-prefetch" href="//fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com/" crossorigin>

        <meta name="author" content="Jadi" />

        <meta property="og:type" content="article" />
        <meta name="twitter:card" content="summary">

<meta name="keywords" content="LPIC1, 101, LPIC1-101-500, LPIC1, " />

<meta property="og:title" content="103.1 Work on the command line "/>
<meta property="og:url" content="./1031-work-on-the-command-line.html" />
<meta property="og:description" content="Candidates should be able to interact with shells and commands using the command line. The objective assumes the Bash shell." />
<meta property="og:site_name" content="lpic1book" />
<meta property="og:article:author" content="Jadi" />
<meta property="og:article:published_time" content="2010-12-03T10:20:00+01:00" />
<meta name="twitter:title" content="103.1 Work on the command line ">
<meta name="twitter:description" content="Candidates should be able to interact with shells and commands using the command line. The objective assumes the Bash shell.">

        <title>103.1 Work on the command line  · lpic1book
</title>



        
        <!-- Global site tag (gtag.js) - Google Analytics -->
        <script async src="https://www.googletagmanager.com/gtag/js?id=G-4CZV14VZXW"></script>
        <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'G-4CZV14VZXW');
        </script>
        
    </head>
    <body>
        <div id="content">
            <div class="navbar navbar-static-top">
                <div class="navbar-inner">
                    <div class="container-fluid">
                        <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                            <span class="icon-bar"></span>
                            <span class="icon-bar"></span>
                            <span class="icon-bar"></span>
                        </a>
                        <a class="brand" href="./"><span class=site-name>lpic1book</span></a>
                        <div class="nav-collapse collapse">
                            <ul class="nav pull-right top-menu">
                                <li >
                                </li>
                                <li ><a href="./">Home</a></li>
                                <li ><a href="./support">Support/Donate</a></li>
                                <li ><a href="./archives.html">Chapters</a></li>
                                <li ><a href="./tags.html">Tags</a></li>
                                <li><form action="https://www.google.com/search" method="get" target="_blank" class="navbar-search"> <input type="hidden" name="sitesearch" value="https://linux1st.com/"/><input type="text" class="search-query" placeholder="Search" name="q" id="tipue_search_input"></form></li>

                            </ul>
                        </div>
                    </div>
                </div>
            </div>
            <div class="container-fluid">
                <div class="row-fluid">
                    <div class="span1"></div>
                    <div class="span10">
<article itemscope>
<div class="row-fluid">
    <header class="page-header span10 offset2">
        <h1>
            <a href="./1031-work-on-the-command-line.html">
                103.1 Work on the command line
            </a>
        </h1>
    </header>
</div>

<div class="row-fluid">
        <div class="span8 offset2 article-content">
            
            <p><em>Weight: 4</em></p>
<p>Description: Candidates should be able to interact with shells and commands using the command line. The objective assumes the bash shell.</p>
<h3>Objectives</h3>
<ul>
<li>Use single shell commands and one line command sequences to perform basic tasks on command line.</li>
<li>Use and modify the shell environment including defining, referencing and exporting environment variables.</li>
<li>Use and edit command history.</li>
<li>Invoke commands inside and outside the defined path.</li>
<li>. and ..</li>
<li>bash</li>
<li>echo</li>
<li>env</li>
<li>exec</li>
<li>export</li>
<li>pwd</li>
<li>set</li>
<li>unset</li>
<li>man</li>
<li>uname</li>
<li>history</li>
</ul>
<h4>Bash</h4>
<p>As any other thing Linux, you can choose your shell too (by shell I mean the command line interface). <strong>Bash</strong> in the most common one.</p>
<p>Some commands are build in (cd, break, exec) and it uses streams:</p>
<ul>
<li><strong>stdin</strong> is the standard input stream, which provides input to commands.</li>
<li><strong>stdout</strong> is the standard output stream, which displays output from commands.</li>
<li><strong>stderr</strong> is the standard error stream, which displays error output from commands.</li>
</ul>
<p>User Prompts are like these:</p>
<div class="highlight"><pre><span></span><code>jadi@funlife:~$
[jadi@funlife lpic1]$
$
</code></pre></div>

<blockquote>
<p>in most cases, root users prompt uses # instead of $ (say: <code>root@funlife:/etc#</code>).</p>
</blockquote>
<p>Global bash configs are stored at /etc/profile and each user has her own config at ~/.profile &amp; ~/.bash_profile &amp; ~/.bash_logout</p>
<h4>Commands and sequences</h4>
<p>Most commands have a <em>command name</em> and some <em>parameters</em>. A simple one is the <code>`echo</code> command:</p>
<div class="highlight"><pre><span></span><code>$ echo

$ echo Hello lpic
Hello lpic
$ echo Hello lpic #just a simple hi
Hello lpic
</code></pre></div>

<blockquote>
<p>Note: the # is for <em>comments</em>. Anything after it is comment.</p>
</blockquote>
<p><strong>escaped characters</strong></p>
<p>Some special characters need special case in programming and linux world. Say you want to go to the new line during an echo command.</p>
<div class="highlight"><pre><span></span><code>jadi@funlife:~$ echo -e &quot;hello\nthere&quot;
hello
there
</code></pre></div>

<table>
<thead>
<tr>
<th align="left">Escape sequence    Function</th>
<th align="left"></th>
</tr>
</thead>
<tbody>
<tr>
<td align="left">\a</td>
<td align="left">Alert (bell)</td>
</tr>
<tr>
<td align="left">\b</td>
<td align="left">Backspace</td>
</tr>
<tr>
<td align="left">\c</td>
<td align="left">Suppress trailing newline (same function as -n option)</td>
</tr>
<tr>
<td align="left">\f</td>
<td align="left">Form feed (clear the screen on a video display)</td>
</tr>
<tr>
<td align="left">\n</td>
<td align="left">New line</td>
</tr>
<tr>
<td align="left">\r</td>
<td align="left">Carriage return</td>
</tr>
<tr>
<td align="left">\t</td>
<td align="left">Horizontal tab</td>
</tr>
</tbody>
</table>
<blockquote>
<p>Note: you can use  to break a command in many lines:</p>
<p><code>text
$ echo but this \
is another \
usage
but this is another usage</code></p>
</blockquote>
<p><strong>metacharacters and Control operators</strong></p>
<p>Also there are characters with special meaning. You need to escape then if you need them in your commands: <strong>| &amp; ; ( ) &lt; &gt;*</strong></p>
<p>There is also control operators. They also have special meanings:  <strong>|| &amp;&amp; &amp; ; ;; | ( )</strong></p>
<p>The most important ones are ; (do one by one), &amp;&amp; (logical and) and || (logical or).</p>
<div class="highlight"><pre><span></span><code>$ echo line 1;echo line 2; echo line 3
line 1
line 2
line 3

$ echo line 1&amp;&amp;echo line 2&amp;&amp;echo line 3
line 1
line 2
line 3

$ echo line 1||echo line 2; echo line 3
line 1
line 3
</code></pre></div>

<h3>exiting shell</h3>
<p>the <code>exit</code> command exits the shell. Same as ctrl+d.</p>
<p>if you run a command inside parentheses that command will be run inside a sub-shell.</p>
<p>and <code>exec</code> will run a command and closes the current shell.</p>
<h3>Environment variables</h3>
<p>Concept of EV.</p>
<p>Every variable has name and a value. echo the name with a $ in front of it.</p>
<p>Some common ones are:</p>
<table>
<thead>
<tr>
<th align="left">Name</th>
<th align="left">Function</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left">USER</td>
<td align="left">The name of the logged-in user</td>
</tr>
<tr>
<td align="left">UID</td>
<td align="left">The numeric user id of the logged-in user</td>
</tr>
<tr>
<td align="left">HOME</td>
<td align="left">The user's home directory</td>
</tr>
<tr>
<td align="left">PWD</td>
<td align="left">The current working directory</td>
</tr>
<tr>
<td align="left">SHELL</td>
<td align="left">The name of the shell</td>
</tr>
<tr>
<td align="left">$</td>
<td align="left">The process id (or PIDof the running bash shell (or other) process</td>
</tr>
<tr>
<td align="left">PPID</td>
<td align="left">The process id of the process that started this process (that is, the id of the parent process)</td>
</tr>
<tr>
<td align="left">?</td>
<td align="left">The exit code of the last command</td>
</tr>
</tbody>
</table>
<div class="highlight"><pre><span></span><code>$ echo $USER $UID
jadi 1000
$SHELL $HOME $PWD
/bin/bash /home/jadi /home/jadi/lpic
$ (exit 0);echo $?;(exit 4);echo $?
0
4
$ echo $$ $PPID
2559 2558
</code></pre></div>

<p>And this is the way to define a EV:</p>
<div class="highlight"><pre><span></span><code>jadi@funlife:~$ MYMOOD=happy
jadi@funlife:~$ echo I am $MYMOOD
I am happy
</code></pre></div>

<p>if we <code>export</code> a variable, it will be available for other programs starting from that shell.</p>
<blockquote>
<p>Note: sometimes you may need to use { and } to describe a variable:</p>
<p><code>text
$ echo "-$HOME/abc-"
-/home/jadi/abc-
$ echo "-$HOME_abc-"
--
$ echo "-${HOME}_abc-"
-/home/jadi_abc-</code></p>
<h4>env, set, unset</h4>
<p>the <code>env</code> shows current EVs. It can also be used to run a command in a specific environment.</p>
</blockquote>
<p>set is a bit more complicated. it can configure how your bash behaves. unset, unsets a variable.</p>
<div class="highlight"><pre><span></span><code>$ echo $-
himBH
$ echo $VAR1

$ set -u;echo $-
himuBH
$ echo $VAR1
-bash: VAR1: unbound variable
$ VAR1=v1;echo $VAR1
v1
$ unset VAR1;echo $VAR1
-bash: VAR1: unbound variable
</code></pre></div>

<blockquote>
<p>Note: if you use <code>set</code> with no parameter, it shows the EVs.</p>
</blockquote>
<h3>uname</h3>
<p>gives you data about the system. Common switches are:</p>
<table>
<thead>
<tr>
<th align="left">Option</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left">-s</td>
<td align="left">Print the kernel name. This is the default if no option is specified.</td>
</tr>
<tr>
<td align="left">-n</td>
<td align="left">Print the nodename or hostname.</td>
</tr>
<tr>
<td align="left">-r</td>
<td align="left">Print the release of the kernel. This option is often used with module-handling commands.</td>
</tr>
<tr>
<td align="left">-v</td>
<td align="left">Print the version of the kernel.</td>
</tr>
<tr>
<td align="left">-m</td>
<td align="left">Print the machine's hardware (CPU) name.</td>
</tr>
<tr>
<td align="left">-o</td>
<td align="left">Print the operating system name.</td>
</tr>
<tr>
<td align="left">-a</td>
<td align="left">Print all of the above information.</td>
</tr>
</tbody>
</table>
<div class="highlight"><pre><span></span><code>$ uname -a
Linux funlife 3.16.0-28-generic #38-Ubuntu SMP Fri Dec 12 17:37:40 UTC 2014 x86_64 x86_64 x86_64 GNU/Linux
</code></pre></div>

<h3>history</h3>
<p>The bash, saves the commands you issue in a file defined in <strong>HISTFILE</strong> ev. the <code>history</code> shows the full command history (500 commands normally but can be changes in HISTSIZE).</p>
<p>There are also some shortcuts:</p>
<ul>
<li><code>history 20</code> shows last 20 commands</li>
<li><code>!!</code> last command</li>
<li><code>!string</code> most recent command that starts with string</li>
<li><code>!?string?</code> most recent command that contains string</li>
</ul>
<p>when you logout, all these are saved in .bash_history</p>
<h3>Paths</h3>
<p>External commands are just files on disks. So where does bash knows where to find commands?</p>
<div class="highlight"><pre><span></span><code>jadi@funlife:~$ echo $PATH
/home/jadi/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games
</code></pre></div>

<p>and this gives me some more data:</p>
<div class="highlight"><pre><span></span><code>jadi@funlife:~$ which tar
/bin/tar
jadi@funlife:~$ type tar
tar is /bin/tar
jadi@funlife:~$ whereis tar
tar: /usr/lib/tar /bin/tar /usr/include/tar.h /usr/share/man/man1/tar.1.gz
</code></pre></div>

<p><strong>running other commands</strong></p>
<ul>
<li>It is possible to add to my path</li>
<li>give the full path</li>
<li>give the relative path (. &amp; ..)</li>
</ul>
<h3>cd &amp; pwd</h3>
<p><code>cd``` will change directories (including .. and .) and</code>pwd```` tells where you are at the moment.</p>
<h3>man pages</h3>
<p>the best linux help you can find.-</p>
<div class="highlight"><pre><span></span><code>$ man ping
PING(8)                                                            System Manager&#39;s Manual: iputils                                                           PING(8)

NAME
       ping, ping6 - send ICMP ECHO_REQUEST to network hosts

SYNOPSIS
       ping  [-aAbBdDfhLnOqrRUvV]  [-c  count] [-F flowlabel] [-i interval] [-I interface] [-l preload] [-m mark] [-M pmtudisc_option] [-N nodeinfo_option] [-w dead‐
       line] [-W timeout] [-p pattern] [-Q tos] [-s packetsize] [-S sndbuf] [-t ttl] [-T timestamp option] [hop ...] destination

DESCRIPTION
       ping uses the ICMP protocol&#39;s mandatory ECHO_REQUEST datagram to elicit an ICMP ECHO_RESPONSE from a host or gateway.  ECHO_REQUEST datagrams (``pings&#39;&#39;) have
       an IP and ICMP header, followed by a struct timeval and then an arbitrary number of ``pad&#39;&#39; bytes used to fill out the packet.

       ping6  is  IPv6  version of ping, and can also send Node Information Queries (RFC4620).  Intermediate hops may not be allowed, because IPv6 source routing was
       deprecated (RFC5095).

OPTIONS
       -a     Audible ping.

       -A     Adaptive ping. Interpacket interval adapts to round-trip time, so that effectively not more than one (or more, if preload is set) unanswered  probe  is
              present in the network. Minimal interval is 200msec for not super-user.  On networks with low rtt this mode is essentially equivalent to flood mode.

       -b     Allow pinging a broadcast address.

       -B     Do not allow ping to change source address of probes.  The address is bound to one selected when ping starts.

       -c count
              Stop after sending count ECHO_REQUEST packets. With deadline option, ping waits for count ECHO_REPLY packets, until the timeout expires.
...
</code></pre></div>

<p>As you can see, on top:</p>
<ul>
<li>Name of the command and section</li>
<li>name and related commands in this section</li>
<li>options and formats</li>
<li>short description</li>
<li>detailed info</li>
</ul>
<p>and at the end bug reporting, files, related commands and authors.</p>
<p>There are 9 man sections:</p>
<ol>
<li>User commands (env, ls, echo, mkdir, tty)</li>
<li>System calls or kernel functions (link, sethostname, mkdir)</li>
<li>Library routines (acosh, asctime, btree, locale, XML::Parser)</li>
<li>Device related information (isdn_audio, mouse, tty, zero)</li>
<li>File format descriptions (keymaps, motd, wvdial.conf)</li>
<li>Games (note that many games are now graphical and have graphical help outside the man page system)</li>
<li>Miscellaneous (arp, boot, regex, unix utf8)</li>
<li>System administration (debugfs, fdisk, fsck, mount, renice, rpm)</li>
<li>kernel utils</li>
</ol>
<p>of course there can be more and one command can be in different places.</p>
<p>If you are searching, do:</p>
<div class="highlight"><pre><span></span><code>jadi@funlife:~$ man -f ls
ls (1)               - list directory contents
jadi@funlife:~$ man -w ls
/usr/share/man/man1/ls.1.gz
jadi@funlife:~$ man -k ls | head
SSL (3ssl)           - OpenSSL SSL/TLS library
_llseek (2)          - reposition read/write file offset
aconnect (1)         - ALSA sequencer connection manager
add-shell (8)        - add shells to the list of valid login shells
afs_syscall (2)      - unimplemented system calls
alsactl (1)          - advanced controls for ALSA soundcard driver
alsactl_init (7)     - alsa control management - initialization
alsaloop (1)         - command-line PCM loopback
alsamixer (1)        - soundcard mixer for ALSA soundcard driver, with ncurses interface
amidi (1)            - read from and write to ALSA RawMIDI ports
...
</code></pre></div>

<p>Or use the <code>apropos</code> command which searches man pages:</p>
<div class="highlight"><pre><span></span><code>$ apropos route
ip-mroute (8)        - multicast routing cache management
ip-route (8)         - routing table management
route (8)            - show / manipulate the IP routing table
routef (8)           - flush routes
routel (8)           - list routes with pretty output format
sensible-mda (8)     - a generic local MDA router for Debian systems
tor (1)              - The second-generation onion router
torrc (5)            - The second-generation onion router
traceroute6 (8)      - traces path to a network host
traceroute6.iputils (8) - traces path to a network host
</code></pre></div>

<blockquote>
<p>Note: A linux master will read as many <code>man pages</code> she can! Start with <code>man man</code></p>
</blockquote>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>..</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>


             
 
            
            
            







            <hr/>

            <!-- show next and previous links -->
            <table style="background: white; border: 0; font-size: 0.8em;"><tr>
                
                
                
                
                
                
                
                
                
                
                
                
                <td style="background: white; border: 0;">
                            <a href="./1026-linux-as-a-virtualization-guest.html">← 102.6 Linux as a virtualization guest</a>
                </td>
                <td style="background: white; border: 0;"><center ><a href="/archives.html">Chapter List</a></center></td>
                <td style="background: white; border: 0; text-align: right;">
                            <a href="./1032-process-text-streams-using-filters.html">103.2 Process text streams using filters →</a>
                </td>
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
            </tr></table>
            
            <hr />


	<div class=comment>

<div id="disqus_thread"></div>
<script>
    (function() { // DON'T EDIT BELOW THIS LINE
    var d = document, s = d.createElement('script');
    s.src = 'https://linux1st.disqus.com/embed.js';
    s.setAttribute('data-timestamp', +new Date());
    (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>


	</div>
        </div>
        <section id="article-sidebar" class="span2">
            <h4>Category</h4>
            <a class="category-link" href="./categories.html#lpic1-ref">LPIC1</a>
            <h4>Tags</h4>
            <ul class="list-of-tags tags-in-article">
                <li><a href="./tags.html#101-ref">101
                    <span class="superscript">38</span>
</a></li>
                <li><a href="./tags.html#lpic1-ref">LPIC1
                    <span class="superscript">42</span>
</a></li>
                <li><a href="./tags.html#lpic1-101-500-ref">LPIC1-101-500
                    <span class="superscript">41</span>
</a></li>
            </ul>
<h4>Contact</h4>
<div id="sidebar-social-link">
</div>
            





            





        </section>
</div>
</article>
<!-- Root element of PhotoSwipe. Must have class pswp. -->
<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

    <!-- Background of PhotoSwipe.
         It's a separate element as animating opacity is faster than rgba(). -->
    <div class="pswp__bg"></div>

    <!-- Slides wrapper with overflow:hidden. -->
    <div class="pswp__scroll-wrap">

        <!-- Container that holds slides.
            PhotoSwipe keeps only 3 of them in the DOM to save memory.
            Don't modify these 3 pswp__item elements, data is added later on. -->
        <div class="pswp__container">
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
        </div>

        <!-- Default (PhotoSwipeUI_Default) interface on top of sliding area. Can be changed. -->
        <div class="pswp__ui pswp__ui--hidden">

            <div class="pswp__top-bar">

                <!--  Controls are self-explanatory. Order can be changed. -->

                <div class="pswp__counter"></div>

                <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>

                <button class="pswp__button pswp__button--share" title="Share"></button>

                <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>

                <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>

                <!-- Preloader demo https://codepen.io/dimsemenov/pen/yyBWoR -->
                <!-- element will get class pswp__preloader--active when preloader is running -->
                <div class="pswp__preloader">
                    <div class="pswp__preloader__icn">
                      <div class="pswp__preloader__cut">
                        <div class="pswp__preloader__donut"></div>
                      </div>
                    </div>
                </div>
            </div>

            <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
                <div class="pswp__share-tooltip"></div>
            </div>

            <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
            </button>

            <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
            </button>

            <div class="pswp__caption">
                <div class="pswp__caption__center"></div>
            </div>

        </div>

    </div>

</div>                    </div>
                    <div class="span1"></div>
                </div>
            </div>
        </div>
<footer>




    <div id="fpowered">
        Powered by: <a href="http://getpelican.com/" title="Pelican Home Page" target="_blank" rel="nofollow noopener noreferrer">Pelican</a>
        Theme: <a href="https://elegant.oncrashreboot.com/" title="Theme Elegant Home Page" target="_blank" rel="nofollow noopener noreferrer">Elegant</a>
    </div>
</footer>            <script src="//code.jquery.com/jquery.min.js"></script>
        <script src="//netdna.bootstrapcdn.com/twitter-bootstrap/2.3.2/js/bootstrap.min.js"></script>
        <script src="./theme/js/elegant.prod.9e9d5ce754.js"></script>
        <script>
            function validateForm(query)
            {
                return (query.length > 0);
            }
        </script>

    <script>
    (function () {
        if (window.location.hash.match(/^#comment-\d+$/)) {
            $('#comment_thread').collapse('show');
        }
    })();
    window.onhashchange=function(){
        if (window.location.hash.match(/^#comment-\d+$/))
            window.location.reload(true);
    }
    $('#comment_thread').on('shown', function () {
        var link = document.getElementById('comment-accordion-toggle');
        var old_innerHTML = link.innerHTML;
        $(link).fadeOut(200, function() {
            $(this).text('Click here to hide comments').fadeIn(200);
        });
        $('#comment_thread').on('hidden', function () {
            $(link).fadeOut(200, function() {
                $(this).text(old_innerHTML).fadeIn(200);
            });
        })
    })
</script>

    </body>
    <!-- Theme: Elegant built for Pelican
        License : MIT -->
</html>